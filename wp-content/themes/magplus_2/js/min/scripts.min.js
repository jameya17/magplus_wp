function getFooterHeight() {
    return $("footer").height() + parseInt($("footer").css("bottom")) + parseInt($("footer").css("border-top-width"))
}

function readCookie(e) {
    for (var t = e + "=", i = document.cookie.split(";"), n = 0; n < i.length; n++) {
        for (var a = i[n];
            " " == a.charAt(0);) a = a.substring(1, a.length);
        if (0 == a.indexOf(t)) return a.substring(t.length, a.length)
    }
    return null
}
if ($.browser.device = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()), $.browser.device) {
    if ($("html").addClass("isMobile"), $("#subNav").length) {
        $(".selText").length || $("#subNav").prepend("<span></span>"), $("#content").prepend($("#subNav")), $(".ps-subnav-ul").length && ($(".ps-subnav-ul .current_page_item").length && $(".ps-subnav-ul .current_page_item .children").insertAfter($("#subNav .current_page_item a")), $(".ps-subnav-ul .current_page_parent").length && $(".ps-subnav-ul .current_page_parent .children").insertAfter($("#subNav .current_page_parent a")));
        var selText = $("#subNav .current_page_item a").html();
        $("#subNav span").html(selText), $("#subNav").click(function() {
            $("#subNav.active").length ? $("#subNav").removeClass("active") : $("#subNav").addClass("active")
        })
    }
    $(".isMobile .navigation-toggle").click(function() {
        $("html.viewmenu").length ? $("html").removeClass("viewmenu") : $("html").addClass("viewmenu")
    })
}

function __return_false() {
    return !1
}
if ($(".single-use_types").length && $("#menu-item-20841").addClass("current-menu-item"), function(e, t) {
        function i(t, i) {
            var a = t.nodeName.toLowerCase();
            if ("area" === a) {
                var o, s = t.parentNode,
                    r = s.name;
                return !(!t.href || !r || "map" !== s.nodeName.toLowerCase()) && (!!(o = e("img[usemap=#" + r + "]")[0]) && n(o))
            }
            return (/input|select|textarea|button|object/.test(a) ? !t.disabled : "a" == a && t.href || i) && n(t)
        }

        function n(t) {
            return !e(t).parents().andSelf().filter(function() {
                return "hidden" === e.curCSS(this, "visibility") || e.expr.filters.hidden(this)
            }).length
        }
        e.ui = e.ui || {}, e.ui.version || (e.extend(e.ui, {
            version: "1.8.23",
            keyCode: {
                ALT: 18,
                BACKSPACE: 8,
                CAPS_LOCK: 20,
                COMMA: 188,
                COMMAND: 91,
                COMMAND_LEFT: 91,
                COMMAND_RIGHT: 93,
                CONTROL: 17,
                DELETE: 46,
                DOWN: 40,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                HOME: 36,
                INSERT: 45,
                LEFT: 37,
                MENU: 93,
                NUMPAD_ADD: 107,
                NUMPAD_DECIMAL: 110,
                NUMPAD_DIVIDE: 111,
                NUMPAD_ENTER: 108,
                NUMPAD_MULTIPLY: 106,
                NUMPAD_SUBTRACT: 109,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                RIGHT: 39,
                SHIFT: 16,
                SPACE: 32,
                TAB: 9,
                UP: 38,
                WINDOWS: 91
            }
        }), e.fn.extend({
            propAttr: e.fn.prop || e.fn.attr,
            _focus: e.fn.focus,
            focus: function(t, i) {
                return "number" == typeof t ? this.each(function() {
                    var n = this;
                    setTimeout(function() {
                        e(n).focus(), i && i.call(n)
                    }, t)
                }) : this._focus.apply(this, arguments)
            },
            scrollParent: function() {
                var t;
                return t = e.browser.msie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function() {
                    return /(relative|absolute|fixed)/.test(e.curCSS(this, "position", 1)) && /(auto|scroll)/.test(e.curCSS(this, "overflow", 1) + e.curCSS(this, "overflow-y", 1) + e.curCSS(this, "overflow-x", 1))
                }).eq(0) : this.parents().filter(function() {
                    return /(auto|scroll)/.test(e.curCSS(this, "overflow", 1) + e.curCSS(this, "overflow-y", 1) + e.curCSS(this, "overflow-x", 1))
                }).eq(0), /fixed/.test(this.css("position")) || !t.length ? e(document) : t
            },
            zIndex: function(i) {
                if (i !== t) return this.css("zIndex", i);
                if (this.length)
                    for (var n, a, o = e(this[0]); o.length && o[0] !== document;) {
                        if (("absolute" === (n = o.css("position")) || "relative" === n || "fixed" === n) && (a = parseInt(o.css("zIndex"), 10), !isNaN(a) && 0 !== a)) return a;
                        o = o.parent()
                    }
                return 0
            },
            disableSelection: function() {
                return this.bind((e.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function(e) {
                    e.preventDefault()
                })
            },
            enableSelection: function() {
                return this.unbind(".ui-disableSelection")
            }
        }), e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function(i, n) {
            function a(t, i, n, a) {
                return e.each(o, function() {
                    i -= parseFloat(e.curCSS(t, "padding" + this, !0)) || 0, n && (i -= parseFloat(e.curCSS(t, "border" + this + "Width", !0)) || 0), a && (i -= parseFloat(e.curCSS(t, "margin" + this, !0)) || 0)
                }), i
            }
            var o = "Width" === n ? ["Left", "Right"] : ["Top", "Bottom"],
                s = n.toLowerCase(),
                r = {
                    innerWidth: e.fn.innerWidth,
                    innerHeight: e.fn.innerHeight,
                    outerWidth: e.fn.outerWidth,
                    outerHeight: e.fn.outerHeight
                };
            e.fn["inner" + n] = function(i) {
                return i === t ? r["inner" + n].call(this) : this.each(function() {
                    e(this).css(s, a(this, i) + "px")
                })
            }, e.fn["outer" + n] = function(t, i) {
                return "number" != typeof t ? r["outer" + n].call(this, t) : this.each(function() {
                    e(this).css(s, a(this, t, !0, i) + "px")
                })
            }
        }), e.extend(e.expr[":"], {
            data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
                return function(i) {
                    return !!e.data(i, t)
                }
            }) : function(t, i, n) {
                return !!e.data(t, n[3])
            },
            focusable: function(t) {
                return i(t, !isNaN(e.attr(t, "tabindex")))
            },
            tabbable: function(t) {
                var n = e.attr(t, "tabindex"),
                    a = isNaN(n);
                return (a || n >= 0) && i(t, !a)
            }
        }), e(function() {
            var t = document.body,
                i = t.appendChild(i = document.createElement("div"));
            i.offsetHeight, e.extend(i.style, {
                minHeight: "100px",
                height: "auto",
                padding: 0,
                borderWidth: 0
            }), e.support.minHeight = 100 === i.offsetHeight, e.support.selectstart = "onselectstart" in i, t.removeChild(i).style.display = "none"
        }), e.curCSS || (e.curCSS = e.css), e.extend(e.ui, {
            plugin: {
                add: function(t, i, n) {
                    var a = e.ui[t].prototype;
                    for (var o in n) a.plugins[o] = a.plugins[o] || [], a.plugins[o].push([i, n[o]])
                },
                call: function(e, t, i) {
                    var n = e.plugins[t];
                    if (n && e.element[0].parentNode)
                        for (var a = 0; a < n.length; a++) e.options[n[a][0]] && n[a][1].apply(e.element, i)
                }
            },
            contains: function(e, t) {
                return document.compareDocumentPosition ? 16 & e.compareDocumentPosition(t) : e !== t && e.contains(t)
            },
            hasScroll: function(t, i) {
                if ("hidden" === e(t).css("overflow")) return !1;
                var n = i && "left" === i ? "scrollLeft" : "scrollTop",
                    a = !1;
                return t[n] > 0 || (t[n] = 1, a = t[n] > 0, t[n] = 0, a)
            },
            isOverAxis: function(e, t, i) {
                return e > t && t + i > e
            },
            isOver: function(t, i, n, a, o, s) {
                return e.ui.isOverAxis(t, n, o) && e.ui.isOverAxis(i, a, s)
            }
        }))
    }(jQuery), function(e, t) {
        if (e.cleanData) {
            var i = e.cleanData;
            e.cleanData = function(t) {
                for (var n, a = 0; null != (n = t[a]); a++) try {
                    e(n).triggerHandler("remove")
                } catch (e) {}
                i(t)
            }
        } else {
            var n = e.fn.remove;
            e.fn.remove = function(t, i) {
                return this.each(function() {
                    return i || (!t || e.filter(t, [this]).length) && e("*", this).add([this]).each(function() {
                        try {
                            e(this).triggerHandler("remove")
                        } catch (e) {}
                    }), n.call(e(this), t, i)
                })
            }
        }
        e.widget = function(t, i, n) {
            var a, o = t.split(".")[0];
            a = o + "-" + (t = t.split(".")[1]), n || (n = i, i = e.Widget), e.expr[":"][a] = function(i) {
                return !!e.data(i, t)
            }, e[o] = e[o] || {}, e[o][t] = function(e, t) {
                arguments.length && this._createWidget(e, t)
            };
            var s = new i;
            s.options = e.extend(!0, {}, s.options), e[o][t].prototype = e.extend(!0, s, {
                namespace: o,
                widgetName: t,
                widgetEventPrefix: e[o][t].prototype.widgetEventPrefix || t,
                widgetBaseClass: a
            }, n), e.widget.bridge(t, e[o][t])
        }, e.widget.bridge = function(t, i) {
            e.fn[t] = function(n) {
                var a = "string" == typeof n,
                    o = Array.prototype.slice.call(arguments, 1),
                    s = this;
                return n = !a && o.length ? e.extend.apply(null, [!0, n].concat(o)) : n, a && "_" === n.charAt(0) ? s : (a ? this.each(function() {
                    var i = e.data(this, t),
                        a = i && e.isFunction(i[n]) ? i[n].apply(i, o) : i;
                    return a !== i && void 0 !== a ? (s = a, !1) : void 0
                }) : this.each(function() {
                    var a = e.data(this, t);
                    a ? a.option(n || {})._init() : e.data(this, t, new i(n, this))
                }), s)
            }
        }, e.Widget = function(e, t) {
            arguments.length && this._createWidget(e, t)
        }, e.Widget.prototype = {
            widgetName: "widget",
            widgetEventPrefix: "",
            options: {
                disabled: !1
            },
            _createWidget: function(t, i) {
                e.data(i, this.widgetName, this), this.element = e(i), this.options = e.extend(!0, {}, this.options, this._getCreateOptions(), t);
                var n = this;
                this.element.bind("remove." + this.widgetName, function() {
                    n.destroy()
                }), this._create(), this._trigger("create"), this._init()
            },
            _getCreateOptions: function() {
                return e.metadata && e.metadata.get(this.element[0])[this.widgetName]
            },
            _create: function() {},
            _init: function() {},
            destroy: function() {
                this.element.unbind("." + this.widgetName).removeData(this.widgetName), this.widget().unbind("." + this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass + "-disabled ui-state-disabled")
            },
            widget: function() {
                return this.element
            },
            option: function(t, i) {
                var n = t;
                if (0 === arguments.length) return e.extend({}, this.options);
                if ("string" == typeof t) {
                    if (void 0 === i) return this.options[t];
                    (n = {})[t] = i
                }
                return this._setOptions(n), this
            },
            _setOptions: function(t) {
                var i = this;
                return e.each(t, function(e, t) {
                    i._setOption(e, t)
                }), this
            },
            _setOption: function(e, t) {
                return this.options[e] = t, "disabled" === e && this.widget()[t ? "addClass" : "removeClass"](this.widgetBaseClass + "-disabled ui-state-disabled").attr("aria-disabled", t), this
            },
            enable: function() {
                return this._setOption("disabled", !1)
            },
            disable: function() {
                return this._setOption("disabled", !0)
            },
            _trigger: function(t, i, n) {
                var a, o, s = this.options[t];
                if (n = n || {}, (i = e.Event(i)).type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), i.target = this.element[0], o = i.originalEvent)
                    for (a in o) a in i || (i[a] = o[a]);
                return this.element.trigger(i, n), !(e.isFunction(s) && !1 === s.call(this.element[0], i, n) || i.isDefaultPrevented())
            }
        }
    }(jQuery), function(e) {
        e.ui = e.ui || {};
        var t = /left|center|right/,
            i = /top|center|bottom/,
            n = "center",
            a = {},
            o = e.fn.position,
            s = e.fn.offset;
        e.fn.position = function(s) {
                if (!s || !s.of) return o.apply(this, arguments);
                s = e.extend({}, s);
                var r, l, c, u = e(s.of),
                    d = u[0],
                    h = (s.collision || "flip").split(" "),
                    f = s.offset ? s.offset.split(" ") : [0, 0];
                return 9 === d.nodeType ? (r = u.width(), l = u.height(), c = {
                    top: 0,
                    left: 0
                }) : d.setTimeout ? (r = u.width(), l = u.height(), c = {
                    top: u.scrollTop(),
                    left: u.scrollLeft()
                }) : d.preventDefault ? (s.at = "left top", r = l = 0, c = {
                    top: s.of.pageY,
                    left: s.of.pageX
                }) : (r = u.outerWidth(), l = u.outerHeight(), c = u.offset()), e.each(["my", "at"], function() {
                    var e = (s[this] || "").split(" ");
                    1 === e.length && (e = t.test(e[0]) ? e.concat([n]) : i.test(e[0]) ? [n].concat(e) : [n, n]), e[0] = t.test(e[0]) ? e[0] : n, e[1] = i.test(e[1]) ? e[1] : n, s[this] = e
                }), 1 === h.length && (h[1] = h[0]), f[0] = parseInt(f[0], 10) || 0, 1 === f.length && (f[1] = f[0]), f[1] = parseInt(f[1], 10) || 0, "right" === s.at[0] ? c.left += r : s.at[0] === n && (c.left += r / 2), "bottom" === s.at[1] ? c.top += l : s.at[1] === n && (c.top += l / 2), c.left += f[0], c.top += f[1], this.each(function() {
                    var t, i = e(this),
                        o = i.outerWidth(),
                        u = i.outerHeight(),
                        d = parseInt(e.curCSS(this, "marginLeft", !0)) || 0,
                        p = parseInt(e.curCSS(this, "marginTop", !0)) || 0,
                        m = o + d + (parseInt(e.curCSS(this, "marginRight", !0)) || 0),
                        g = u + p + (parseInt(e.curCSS(this, "marginBottom", !0)) || 0),
                        v = e.extend({}, c);
                    "right" === s.my[0] ? v.left -= o : s.my[0] === n && (v.left -= o / 2), "bottom" === s.my[1] ? v.top -= u : s.my[1] === n && (v.top -= u / 2), a.fractions || (v.left = Math.round(v.left), v.top = Math.round(v.top)), t = {
                        left: v.left - d,
                        top: v.top - p
                    }, e.each(["left", "top"], function(i, n) {
                        e.ui.position[h[i]] && e.ui.position[h[i]][n](v, {
                            targetWidth: r,
                            targetHeight: l,
                            elemWidth: o,
                            elemHeight: u,
                            collisionPosition: t,
                            collisionWidth: m,
                            collisionHeight: g,
                            offset: f,
                            my: s.my,
                            at: s.at
                        })
                    }), e.fn.bgiframe && i.bgiframe(), i.offset(e.extend(v, {
                        using: s.using
                    }))
                })
            }, e.ui.position = {
                fit: {
                    left: function(t, i) {
                        var n = e(window),
                            a = i.collisionPosition.left + i.collisionWidth - n.width() - n.scrollLeft();
                        t.left = a > 0 ? t.left - a : Math.max(t.left - i.collisionPosition.left, t.left)
                    },
                    top: function(t, i) {
                        var n = e(window),
                            a = i.collisionPosition.top + i.collisionHeight - n.height() - n.scrollTop();
                        t.top = a > 0 ? t.top - a : Math.max(t.top - i.collisionPosition.top, t.top)
                    }
                },
                flip: {
                    left: function(t, i) {
                        if (i.at[0] !== n) {
                            var a = e(window),
                                o = i.collisionPosition.left + i.collisionWidth - a.width() - a.scrollLeft(),
                                s = "left" === i.my[0] ? -i.elemWidth : "right" === i.my[0] ? i.elemWidth : 0,
                                r = "left" === i.at[0] ? i.targetWidth : -i.targetWidth,
                                l = -2 * i.offset[0];
                            t.left += i.collisionPosition.left < 0 ? s + r + l : o > 0 ? s + r + l : 0
                        }
                    },
                    top: function(t, i) {
                        if (i.at[1] !== n) {
                            var a = e(window),
                                o = i.collisionPosition.top + i.collisionHeight - a.height() - a.scrollTop(),
                                s = "top" === i.my[1] ? -i.elemHeight : "bottom" === i.my[1] ? i.elemHeight : 0,
                                r = "top" === i.at[1] ? i.targetHeight : -i.targetHeight,
                                l = -2 * i.offset[1];
                            t.top += i.collisionPosition.top < 0 ? s + r + l : o > 0 ? s + r + l : 0
                        }
                    }
                }
            }, e.offset.setOffset || (e.offset.setOffset = function(t, i) {
                /static/.test(e.curCSS(t, "position")) && (t.style.position = "relative");
                var n = e(t),
                    a = n.offset(),
                    o = parseInt(e.curCSS(t, "top", !0), 10) || 0,
                    s = parseInt(e.curCSS(t, "left", !0), 10) || 0,
                    r = {
                        top: i.top - a.top + o,
                        left: i.left - a.left + s
                    };
                "using" in i ? i.using.call(t, r) : n.css(r)
            }, e.fn.offset = function(t) {
                var i = this[0];
                return i && i.ownerDocument ? t ? e.isFunction(t) ? this.each(function(i) {
                    e(this).offset(t.call(this, i, e(this).offset()))
                }) : this.each(function() {
                    e.offset.setOffset(this, t)
                }) : s.call(this) : null
            }), e.curCSS || (e.curCSS = e.css),
            function() {
                var t, i, n, o, s, r = document.getElementsByTagName("body")[0],
                    l = document.createElement("div");
                t = document.createElement(r ? "div" : "body"), n = {
                    visibility: "hidden",
                    width: 0,
                    height: 0,
                    border: 0,
                    margin: 0,
                    background: "none"
                }, r && e.extend(n, {
                    position: "absolute",
                    left: "-1000px",
                    top: "-1000px"
                });
                for (var c in n) t.style[c] = n[c];
                t.appendChild(l), (i = r || document.documentElement).insertBefore(t, i.firstChild), l.style.cssText = "position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;", o = e(l).offset(function(e, t) {
                    return t
                }).offset(), t.innerHTML = "", i.removeChild(t), s = o.top + o.left + (r ? 2e3 : 0), a.fractions = s > 21 && 22 > s
            }()
    }(jQuery), function(e) {
        var t = 0;
        e.widget("ui.autocomplete", {
            options: {
                appendTo: "body",
                autoFocus: !1,
                delay: 300,
                minLength: 1,
                position: {
                    my: "left top",
                    at: "left bottom",
                    collision: "none"
                },
                source: null
            },
            pending: 0,
            _create: function() {
                var t, i = this,
                    n = this.element[0].ownerDocument;
                this.isMultiLine = this.element.is("textarea"), this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off").attr({
                    role: "textbox",
                    "aria-autocomplete": "list",
                    "aria-haspopup": "true"
                }).bind("keydown.autocomplete", function(n) {
                    if (!i.options.disabled && !i.element.propAttr("readOnly")) {
                        t = !1;
                        var a = e.ui.keyCode;
                        switch (n.keyCode) {
                            case a.PAGE_UP:
                                i._move("previousPage", n);
                                break;
                            case a.PAGE_DOWN:
                                i._move("nextPage", n);
                                break;
                            case a.UP:
                                i._keyEvent("previous", n);
                                break;
                            case a.DOWN:
                                i._keyEvent("next", n);
                                break;
                            case a.ENTER:
                            case a.NUMPAD_ENTER:
                                i.menu.active && (t = !0, n.preventDefault());
                            case a.TAB:
                                if (!i.menu.active) return;
                                i.menu.select(n);
                                break;
                            case a.ESCAPE:
                                i.element.val(i.term), i.close(n);
                                break;
                            default:
                                clearTimeout(i.searching), i.searching = setTimeout(function() {
                                    i.term != i.element.val() && (i.selectedItem = null, i.search(null, n))
                                }, i.options.delay)
                        }
                    }
                }).bind("keypress.autocomplete", function(e) {
                    t && (t = !1, e.preventDefault())
                }).bind("focus.autocomplete", function() {
                    i.options.disabled || (i.selectedItem = null, i.previous = i.element.val())
                }).bind("blur.autocomplete", function(e) {
                    i.options.disabled || (clearTimeout(i.searching), i.closing = setTimeout(function() {
                        i.close(e), i._change(e)
                    }, 150))
                }), this._initSource(), this.menu = e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo || "body", n)[0]).mousedown(function(t) {
                    var n = i.menu.element[0];
                    e(t.target).closest(".ui-menu-item").length || setTimeout(function() {
                        e(document).one("mousedown", function(t) {
                            t.target !== i.element[0] && t.target !== n && !e.ui.contains(n, t.target) && i.close()
                        })
                    }, 1), setTimeout(function() {
                        clearTimeout(i.closing)
                    }, 13)
                }).menu({
                    focus: function(e, t) {
                        var n = t.item.data("item.autocomplete");
                        !1 !== i._trigger("focus", e, {
                            item: n
                        }) && /^key/.test(e.originalEvent.type) && i.element.val(n.value)
                    },
                    selected: function(e, t) {
                        var a = t.item.data("item.autocomplete"),
                            o = i.previous;
                        i.element[0] !== n.activeElement && (i.element.focus(), i.previous = o, setTimeout(function() {
                            i.previous = o, i.selectedItem = a
                        }, 1)), !1 !== i._trigger("select", e, {
                            item: a
                        }) && i.element.val(a.value), i.term = i.element.val(), i.close(e), i.selectedItem = a
                    },
                    blur: function() {
                        i.menu.element.is(":visible") && i.element.val() !== i.term && i.element.val(i.term)
                    }
                }).zIndex(this.element.zIndex() + 1).css({
                    top: 0,
                    left: 0
                }).hide().data("menu"), e.fn.bgiframe && this.menu.element.bgiframe(), i.beforeunloadHandler = function() {
                    i.element.removeAttr("autocomplete")
                }, e(window).bind("beforeunload", i.beforeunloadHandler)
            },
            destroy: function() {
                this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"), this.menu.element.remove(), e(window).unbind("beforeunload", this.beforeunloadHandler), e.Widget.prototype.destroy.call(this)
            },
            _setOption: function(t, i) {
                e.Widget.prototype._setOption.apply(this, arguments), "source" === t && this._initSource(), "appendTo" === t && this.menu.element.appendTo(e(i || "body", this.element[0].ownerDocument)[0]), "disabled" === t && i && this.xhr && this.xhr.abort()
            },
            _initSource: function() {
                var t, i, n = this;
                e.isArray(this.options.source) ? (t = this.options.source, this.source = function(i, n) {
                    n(e.ui.autocomplete.filter(t, i.term))
                }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function(t, a) {
                    n.xhr && n.xhr.abort(), n.xhr = e.ajax({
                        url: i,
                        data: t,
                        dataType: "json",
                        success: function(e) {
                            a(e)
                        },
                        error: function() {
                            a([])
                        }
                    })
                }) : this.source = this.options.source
            },
            search: function(e, t) {
                return e = null != e ? e : this.element.val(), this.term = this.element.val(), e.length < this.options.minLength ? this.close(t) : (clearTimeout(this.closing), !1 !== this._trigger("search", t) ? this._search(e) : void 0)
            },
            _search: function(e) {
                this.pending++, this.element.addClass("ui-autocomplete-loading"), this.source({
                    term: e
                }, this._response())
            },
            _response: function() {
                var e = this,
                    i = ++t;
                return function(n) {
                    i === t && e.__response(n), e.pending--, e.pending || e.element.removeClass("ui-autocomplete-loading")
                }
            },
            __response: function(e) {
                !this.options.disabled && e && e.length ? (e = this._normalize(e), this._suggest(e), this._trigger("open")) : this.close()
            },
            close: function(e) {
                clearTimeout(this.closing), this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.deactivate(), this._trigger("close", e))
            },
            _change: function(e) {
                this.previous !== this.element.val() && this._trigger("change", e, {
                    item: this.selectedItem
                })
            },
            _normalize: function(t) {
                return t.length && t[0].label && t[0].value ? t : e.map(t, function(t) {
                    return "string" == typeof t ? {
                        label: t,
                        value: t
                    } : e.extend({
                        label: t.label || t.value,
                        value: t.value || t.label
                    }, t)
                })
            },
            _suggest: function(t) {
                var i = this.menu.element.empty().zIndex(this.element.zIndex() + 1);
                this._renderMenu(i, t), this.menu.deactivate(), this.menu.refresh(), i.show(), this._resizeMenu(), i.position(e.extend({ of: this.element
                }, this.options.position)), this.options.autoFocus && this.menu.next(new e.Event("mouseover"))
            },
            _resizeMenu: function() {
                var e = this.menu.element;
                e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()))
            },
            _renderMenu: function(t, i) {
                var n = this;
                e.each(i, function(e, i) {
                    n._renderItem(t, i)
                })
            },
            _renderItem: function(t, i) {
                return e("<li></li>").data("item.autocomplete", i).append(e("<a></a>").text(i.label)).appendTo(t)
            },
            _move: function(e, t) {
                return this.menu.element.is(":visible") ? this.menu.first() && /^previous/.test(e) || this.menu.last() && /^next/.test(e) ? (this.element.val(this.term), void this.menu.deactivate()) : void this.menu[e](t) : void this.search(null, t)
            },
            widget: function() {
                return this.menu.element
            },
            _keyEvent: function(e, t) {
                (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(e, t), t.preventDefault())
            }
        }), e.extend(e.ui.autocomplete, {
            escapeRegex: function(e) {
                return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
            },
            filter: function(t, i) {
                var n = new RegExp(e.ui.autocomplete.escapeRegex(i), "i");
                return e.grep(t, function(e) {
                    return n.test(e.label || e.value || e)
                })
            }
        })
    }(jQuery), function(e) {
        e.widget("ui.menu", {
            _create: function() {
                var t = this;
                this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({
                    role: "listbox",
                    "aria-activedescendant": "ui-active-menuitem"
                }).click(function(i) {
                    e(i.target).closest(".ui-menu-item a").length && (i.preventDefault(), t.select(i))
                }), this.refresh()
            },
            refresh: function() {
                var t = this;
                this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "menuitem").children("a").addClass("ui-corner-all").attr("tabindex", -1).mouseenter(function(i) {
                    t.activate(i, e(this).parent())
                }).mouseleave(function() {
                    t.deactivate()
                })
            },
            activate: function(e, t) {
                if (this.deactivate(), this.hasScroll()) {
                    var i = t.offset().top - this.element.offset().top,
                        n = this.element.scrollTop(),
                        a = this.element.height();
                    0 > i ? this.element.scrollTop(n + i) : i >= a && this.element.scrollTop(n + i - a + t.height())
                }
                this.active = t.eq(0).children("a").addClass("ui-state-hover").attr("id", "ui-active-menuitem").end(), this._trigger("focus", e, {
                    item: t
                })
            },
            deactivate: function() {
                this.active && (this.active.children("a").removeClass("ui-state-hover").removeAttr("id"), this._trigger("blur"), this.active = null)
            },
            next: function(e) {
                this.move("next", ".ui-menu-item:first", e)
            },
            previous: function(e) {
                this.move("prev", ".ui-menu-item:last", e)
            },
            first: function() {
                return this.active && !this.active.prevAll(".ui-menu-item").length
            },
            last: function() {
                return this.active && !this.active.nextAll(".ui-menu-item").length
            },
            move: function(e, t, i) {
                if (this.active) {
                    var n = this.active[e + "All"](".ui-menu-item").eq(0);
                    n.length ? this.activate(i, n) : this.activate(i, this.element.children(t))
                } else this.activate(i, this.element.children(t))
            },
            nextPage: function(t) {
                if (this.hasScroll()) {
                    if (!this.active || this.last()) return void this.activate(t, this.element.children(".ui-menu-item:first"));
                    var i = this.active.offset().top,
                        n = this.element.height(),
                        a = this.element.children(".ui-menu-item").filter(function() {
                            var t = e(this).offset().top - i - n + e(this).height();
                            return 10 > t && t > -10
                        });
                    a.length || (a = this.element.children(".ui-menu-item:last")), this.activate(t, a)
                } else this.activate(t, this.element.children(".ui-menu-item").filter(!this.active || this.last() ? ":first" : ":last"))
            },
            previousPage: function(t) {
                if (this.hasScroll()) {
                    if (!this.active || this.first()) return void this.activate(t, this.element.children(".ui-menu-item:last"));
                    var i = this.active.offset().top,
                        n = this.element.height(),
                        a = this.element.children(".ui-menu-item").filter(function() {
                            var t = e(this).offset().top - i + n - e(this).height();
                            return 10 > t && t > -10
                        });
                    a.length || (a = this.element.children(".ui-menu-item:first")), this.activate(t, a)
                } else this.activate(t, this.element.children(".ui-menu-item").filter(!this.active || this.first() ? ":last" : ":first"))
            },
            hasScroll: function() {
                return this.element.height() < this.element[e.fn.prop ? "prop" : "attr"]("scrollHeight")
            },
            select: function(e) {
                this._trigger("selected", e, {
                    item: this.active
                })
            }
        })
    }(jQuery), Array.prototype.indexOf || (Array.prototype.indexOf = function(e) {
        var t = this.length >>> 0,
            i = Number(arguments[1]) || 0;
        for (0 > (i = 0 > i ? Math.ceil(i) : Math.floor(i)) && (i += t); t > i; i++)
            if (i in this && this[i] === e) return i;
        return -1
    }), function(e) {
        var t = {
                sort: !1,
                "sort-attr": "data-priority",
                "sort-desc": !1,
                autoselect: !0,
                "alternative-spellings": !0,
                "alternative-spellings-attr": "data-alternative-spellings",
                "remove-valueless-options": !0,
                "copy-attributes-to-text-field": !0,
                "autocomplete-plugin": "jquery_ui",
                "relevancy-sorting": !0,
                "relevancy-sorting-partial-match-value": 1,
                "relevancy-sorting-strict-match-value": 5,
                "relevancy-sorting-booster-attr": "data-relevancy-booster",
                handle_invalid_input: function(e) {
                    e.$text_field.val(e.$select_field.find("option:selected:first").text())
                },
                handle_select_field: function(e) {
                    return e.hide()
                },
                insert_text_field: function(i) {
                    var n = e("<input></input>");
                    if (t["copy-attributes-to-text-field"]) {
                        for (var a = {}, o = i.$select_field[0].attributes, s = 0; s < o.length; s++) {
                            var r = o[s].nodeName,
                                l = o[s].nodeValue;
                            "name" !== r && "id" !== r && void 0 !== i.$select_field.attr(r) && (a[r] = l)
                        }
                        n.attr(a)
                    }
                    return n.blur(function() {
                        var a = i.$select_field.find("option").map(function(t, i) {
                            return e(i).text()
                        });
                        n.val() in a || "function" != typeof t.handle_invalid_input || t.handle_invalid_input(i)
                    }), i.settings.autoselect && n.click(function() {
                        this.select()
                    }), n.val(i.$select_field.find("option:selected:first").text()).insertAfter(i.$select_field)
                },
                extract_options: function(i) {
                    var n = [],
                        a = i.find("option"),
                        o = a.length;
                    return a.each(function() {
                        var i = e(this),
                            a = {
                                "real-value": i.attr("value"),
                                label: i.text()
                            };
                        if (t["remove-valueless-options"] && "" === a["real-value"]);
                        else {
                            a.matches = a.label;
                            var s = i.attr(t["alternative-spellings-attr"]);
                            if (s && (a.matches += " " + s), t.sort) {
                                var r = parseInt(i.attr(t["sort-attr"]), 10);
                                a.weight = r || o
                            }
                            if (t["relevancy-sorting"]) {
                                a["relevancy-score"] = 0, a["relevancy-score-booster"] = 1;
                                var l = parseFloat(i.attr(t["relevancy-sorting-booster-attr"]));
                                l && (a["relevancy-score-booster"] = l)
                            }
                            n.push(a)
                        }
                    }), t.sort && (t["sort-desc"] ? n.sort(function(e, t) {
                        return t.weight - e.weight
                    }) : n.sort(function(e, t) {
                        return e.weight - t.weight
                    })), n
                }
            },
            i = {
                init: function(i) {
                    return e.browser.msie && parseInt(e.browser.version, 10) <= 6 ? this : (t = e.extend(t, i), this.each(function() {
                        var i = e(this),
                            a = {
                                $select_field: i,
                                options: t.extract_options(i),
                                settings: t
                            };
                        a.$flag = e('<span class="current-flag ui-flag"></span>').attr("data-country", a.$select_field.find("option:selected:first").attr("data-alternative-spellings")).insertAfter(a.$select_field), a.$text_field = t.insert_text_field(a), t.handle_select_field(i), "string" == typeof t["autocomplete-plugin"] ? n[t["autocomplete-plugin"]](a) : t["autocomplete-plugin"](a)
                    }))
                }
            },
            n = {
                jquery_ui: function(t) {
                    var i = function(e) {
                        if (e) t.$select_field.val() !== e["real-value"] && (t.$select_field.val(e["real-value"]), t.$select_field.change(), t.$flag.attr("data-country", e.matches));
                        else {
                            for (var i = t.$text_field.val().toLowerCase(), n = {
                                    "real-value": !1
                                }, a = 0; a < t.options.length; a++)
                                if (i === t.options[a].label.toLowerCase()) {
                                    n = t.options[a];
                                    break
                                } t.$select_field.val() !== n["real-value"] && (t.$select_field.val(n["real-value"] || ""), t.$select_field.change()), n["real-value"] && t.$text_field.val(n.label), "function" == typeof t.settings.handle_invalid_input && "" === t.$select_field.val() && t.settings.handle_invalid_input(t)
                        }
                    };
                    t.$text_field.autocomplete({
                        minLength: 0,
                        delay: 0,
                        autoFocus: !0,
                        source: function(i, n) {
                            var a = function(i) {
                                for (var n = i.split(" "), a = [], o = 0; o < n.length; o++)
                                    if (n[o].length > 0) {
                                        var s = {};
                                        s.partial = new RegExp(e.ui.autocomplete.escapeRegex(n[o]), "i"), t.settings["relevancy-sorting"] && (s.strict = new RegExp("^" + e.ui.autocomplete.escapeRegex(n[o]), "i")), a.push(s)
                                    } return e.grep(t.options, function(e) {
                                    var n = 0;
                                    if (t.settings["relevancy-sorting"]) var o = !1,
                                        s = e.matches.split(" ");
                                    for (var r = 0; r < a.length; r++)
                                        if (a[r].partial.test(e.matches) && n++, t.settings["relevancy-sorting"])
                                            for (var l = 0; l < s.length; l++)
                                                if (a[r].strict.test(s[l])) {
                                                    o = !0;
                                                    break
                                                } if (t.settings["relevancy-sorting"]) {
                                        var c = 0;
                                        c += n * t.settings["relevancy-sorting-partial-match-value"], o && (c += t.settings["relevancy-sorting-strict-match-value"]), c *= e["relevancy-score-booster"], e["relevancy-score"] = c
                                    }
                                    return !i || a.length === n
                                })
                            }(i.term);
                            t.settings["relevancy-sorting"] && (a = a.sort(function(e, t) {
                                return t["relevancy-score"] - e["relevancy-score"]
                            })), n(a)
                        },
                        select: function(e, t) {
                            i(t.item)
                        },
                        change: function(e, t) {
                            i(t.item)
                        }
                    }).data("autocomplete")._renderItem = function(t, i) {
                        return e("<li>").data("item.autocomplete", i).append(e("<a>").text(i.label).attr("data-country", i.matches).addClass("ui-flag")).appendTo(t)
                    }, t.$text_field.parents("form:first").submit(function() {
                        i()
                    }), i()
                }
            };
        e.fn.selectToAutocomplete = function(t) {
            return i[t] ? i[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist on jQuery.fn.selectToAutocomplete") : i.init.apply(this, arguments)
        }
    }(jQuery), function(e) {
        "function" == typeof define && define.amd && define.amd.jQuery ? define(["jquery"], e) : e(jQuery)
    }(function(e) {
        var t = "left",
            i = "right",
            n = "up",
            a = "down",
            o = "in",
            s = "out",
            r = "none",
            l = "auto",
            c = "swipe",
            u = "pinch",
            d = "tap",
            h = "doubletap",
            f = "longtap",
            p = "horizontal",
            m = "vertical",
            g = "all",
            v = 10,
            $ = "start",
            b = "move",
            w = "end",
            _ = "cancel",
            x = "ontouchstart" in window,
            y = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled,
            C = window.navigator.pointerEnabled || window.navigator.msPointerEnabled,
            T = "TouchSwipe";
        e.fn.swipe = function(k) {
            var S = e(this),
                P = S.data(T);
            if (P && "string" == typeof k) {
                if (P[k]) return P[k].apply(this, Array.prototype.slice.call(arguments, 1));
                e.error("Method " + k + " does not exist on jQuery.swipe")
            } else if (!(P || "object" != typeof k && k)) return function(k) {
                !k || void 0 !== k.allowPageScroll || void 0 === k.swipe && void 0 === k.swipeStatus || (k.allowPageScroll = r);
                void 0 !== k.click && void 0 === k.tap && (k.tap = k.click);
                k || (k = {});
                return k = e.extend({}, e.fn.swipe.defaults, k), this.each(function() {
                    var S = e(this),
                        P = S.data(T);
                    P || (P = new function(k, S) {
                        var P = x || C || !S.fallbackToMouseEvents,
                            E = P ? C ? y ? "MSPointerDown" : "pointerdown" : "touchstart" : "mousedown",
                            H = P ? C ? y ? "MSPointerMove" : "pointermove" : "touchmove" : "mousemove",
                            M = P ? C ? y ? "MSPointerUp" : "pointerup" : "touchend" : "mouseup",
                            D = P ? null : "mouseleave",
                            O = C ? y ? "MSPointerCancel" : "pointercancel" : "touchcancel",
                            N = 0,
                            A = null,
                            L = 0,
                            I = 0,
                            B = 0,
                            W = 1,
                            j = 0,
                            q = 0,
                            R = null,
                            z = e(k),
                            F = "start",
                            U = 0,
                            Q = null,
                            G = 0,
                            V = 0,
                            Y = 0,
                            K = 0,
                            X = 0,
                            Z = null,
                            J = null;
                        try {
                            z.bind(E, ee), z.bind(O, ne)
                        } catch (t) {
                            e.error("events not supported " + E + "," + O + " on jQuery.swipe")
                        }

                        function ee(o) {
                            if (!0 !== z.data(T + "_intouch") && !(e(o.target).closest(S.excludedElements, z).length > 0)) {
                                var s, r, l = o.originalEvent ? o.originalEvent : o,
                                    c = x ? l.touches[0] : l;
                                return F = $, x ? U = l.touches.length : o.preventDefault(), N = 0, A = null, q = null, L = 0, I = 0, B = 0, W = 1, j = 0, Q = function() {
                                    for (var e = [], t = 0; t <= 5; t++) e.push({
                                        start: {
                                            x: 0,
                                            y: 0
                                        },
                                        end: {
                                            x: 0,
                                            y: 0
                                        },
                                        identifier: 0
                                    });
                                    return e
                                }(), (r = {})[t] = Se(t), r[i] = Se(i), r[n] = Se(n), r[a] = Se(a), R = r, _e(), !x || U === S.fingers || S.fingers === g || fe() ? (Ce(0, c), G = He(), 2 == U && (Ce(1, l.touches[1]), I = B = Ee(Q[0].start, Q[1].start)), (S.swipeStatus || S.pinchStatus) && (s = re(l, F))) : s = !1, !1 === s ? (re(l, F = _), s) : (S.hold && (J = setTimeout(e.proxy(function() {
                                    z.trigger("hold", [l.target]), S.hold && (s = S.hold.call(z, l, l.target))
                                }, this), S.longTapThreshold)), ye(!0), null)
                            }
                        }

                        function te(c) {
                            var u, d, h, f, v, $, y = c.originalEvent ? c.originalEvent : c;
                            if (F !== w && F !== _ && !xe()) {
                                var C, T, k, P, E, H, M, D, O, z, G, Y, K = x ? y.touches[0] : y,
                                    X = Te(K);
                                if (V = He(), x && (U = y.touches.length), S.hold && clearTimeout(J), F = b, 2 == U && (0 == I ? (Ce(1, y.touches[1]), I = B = Ee(Q[0].start, Q[1].start)) : (Te(y.touches[1]), B = Ee(Q[0].end, Q[1].end), Q[0].end, Q[1].end, q = W < 1 ? s : o), W = (B / I * 1).toFixed(2), j = Math.abs(I - B)), U === S.fingers || S.fingers === g || !x || fe()) {
                                    if (z = X.start, G = X.end, u = z, d = G, h = u.x - d.x, f = d.y - u.y, v = Math.atan2(f, h), $ = Math.round(180 * v / Math.PI), $ < 0 && ($ = 360 - Math.abs($)), Y = $, function(e, o) {
                                            if (S.allowPageScroll === r || fe()) e.preventDefault();
                                            else {
                                                var s = S.allowPageScroll === l;
                                                switch (o) {
                                                    case t:
                                                        (S.swipeLeft && s || !s && S.allowPageScroll != p) && e.preventDefault();
                                                        break;
                                                    case i:
                                                        (S.swipeRight && s || !s && S.allowPageScroll != p) && e.preventDefault();
                                                        break;
                                                    case n:
                                                        (S.swipeUp && s || !s && S.allowPageScroll != m) && e.preventDefault();
                                                        break;
                                                    case a:
                                                        (S.swipeDown && s || !s && S.allowPageScroll != m) && e.preventDefault()
                                                }
                                            }
                                        }(c, A = Y <= 45 && Y >= 0 ? t : Y <= 360 && Y >= 315 ? t : Y >= 135 && Y <= 225 ? i : Y > 45 && Y < 135 ? a : n), D = X.start, O = X.end, N = Math.round(Math.sqrt(Math.pow(O.x - D.x, 2) + Math.pow(O.y - D.y, 2))), L = Pe(), H = A, M = N, M = Math.max(M, ke(H)), R[H].distance = M, (S.swipeStatus || S.pinchStatus) && (C = re(y, F)), !S.triggerOnTouchEnd || S.triggerOnTouchLeave) {
                                        var Z = !0;
                                        if (S.triggerOnTouchLeave) {
                                            var ee = {
                                                left: (E = (P = e(P = this)).offset()).left,
                                                right: E.left + P.outerWidth(),
                                                top: E.top,
                                                bottom: E.top + P.outerHeight()
                                            };
                                            T = X.end, k = ee, Z = T.x > k.left && T.x < k.right && T.y > k.top && T.y < k.bottom
                                        }!S.triggerOnTouchEnd && Z ? F = se(b) : S.triggerOnTouchLeave && !Z && (F = se(w)), F != _ && F != w || re(y, F)
                                    }
                                } else re(y, F = _);
                                !1 === C && re(y, F = _)
                            }
                        }

                        function ie(e) {
                            var t = e.originalEvent;
                            return x && t.touches.length > 0 ? (Y = He(), K = event.touches.length + 1, !0) : (xe() && (U = K), V = He(), L = Pe(), ue() || !ce() ? re(t, F = _) : S.triggerOnTouchEnd || 0 == S.triggerOnTouchEnd && F === b ? (e.preventDefault(), re(t, F = w)) : !S.triggerOnTouchEnd && $e() ? le(t, F = w, d) : F === b && re(t, F = _), ye(!1), null)
                        }

                        function ne() {
                            U = 0, V = 0, G = 0, I = 0, B = 0, W = 1, _e(), ye(!1)
                        }

                        function ae(e) {
                            var t = e.originalEvent;
                            S.triggerOnTouchLeave && (F = se(w), re(t, F))
                        }

                        function oe() {
                            z.unbind(E, ee), z.unbind(O, ne), z.unbind(H, te), z.unbind(M, ie), D && z.unbind(D, ae), ye(!1)
                        }

                        function se(e) {
                            var t = e,
                                i = de(),
                                n = ce(),
                                a = ue();
                            return !i || a ? t = _ : !n || e != b || S.triggerOnTouchEnd && !S.triggerOnTouchLeave ? !n && e == w && S.triggerOnTouchLeave && (t = _) : t = w, t
                        }

                        function re(e, t) {
                            var i = void 0;
                            return pe() && me() || me() ? i = le(e, t, c) : (he() && fe() || fe()) && !1 !== i && (i = le(e, t, u)), we() && be() && !1 !== i ? i = le(e, t, h) : L > S.longTapThreshold && N < v && S.longTap && !1 !== i ? i = le(e, t, f) : 1 !== U && x || !(isNaN(N) || N < S.threshold) || !$e() || !1 === i || (i = le(e, t, d)), t === _ && ne(), t === w && (x ? 0 == e.touches.length && ne() : ne()), i
                        }

                        function le(r, l, p) {
                            var m = void 0;
                            if (p == c) {
                                if (z.trigger("swipeStatus", [l, A || null, N || 0, L || 0, U, Q]), S.swipeStatus && !1 === (m = S.swipeStatus.call(z, r, l, A || null, N || 0, L || 0, U, Q))) return !1;
                                if (l == w && pe()) {
                                    if (z.trigger("swipe", [A, N, L, U, Q]), S.swipe && !1 === (m = S.swipe.call(z, r, A, N, L, U, Q))) return !1;
                                    switch (A) {
                                        case t:
                                            z.trigger("swipeLeft", [A, N, L, U, Q]), S.swipeLeft && (m = S.swipeLeft.call(z, r, A, N, L, U, Q));
                                            break;
                                        case i:
                                            z.trigger("swipeRight", [A, N, L, U, Q]), S.swipeRight && (m = S.swipeRight.call(z, r, A, N, L, U, Q));
                                            break;
                                        case n:
                                            z.trigger("swipeUp", [A, N, L, U, Q]), S.swipeUp && (m = S.swipeUp.call(z, r, A, N, L, U, Q));
                                            break;
                                        case a:
                                            z.trigger("swipeDown", [A, N, L, U, Q]), S.swipeDown && (m = S.swipeDown.call(z, r, A, N, L, U, Q))
                                    }
                                }
                            }
                            if (p == u) {
                                if (z.trigger("pinchStatus", [l, q || null, j || 0, L || 0, U, W, Q]), S.pinchStatus && !1 === (m = S.pinchStatus.call(z, r, l, q || null, j || 0, L || 0, U, W, Q))) return !1;
                                if (l == w && he()) switch (q) {
                                    case o:
                                        z.trigger("pinchIn", [q || null, j || 0, L || 0, U, W, Q]), S.pinchIn && (m = S.pinchIn.call(z, r, q || null, j || 0, L || 0, U, W, Q));
                                        break;
                                    case s:
                                        z.trigger("pinchOut", [q || null, j || 0, L || 0, U, W, Q]), S.pinchOut && (m = S.pinchOut.call(z, r, q || null, j || 0, L || 0, U, W, Q))
                                }
                            }
                            return p == d ? l !== _ && l !== w || (clearTimeout(Z), clearTimeout(J), be() && !we() ? (X = He(), Z = setTimeout(e.proxy(function() {
                                X = null, z.trigger("tap", [r.target]), S.tap && (m = S.tap.call(z, r, r.target))
                            }, this), S.doubleTapThreshold)) : (X = null, z.trigger("tap", [r.target]), S.tap && (m = S.tap.call(z, r, r.target)))) : p == h ? l !== _ && l !== w || (clearTimeout(Z), X = null, z.trigger("doubletap", [r.target]), S.doubleTap && (m = S.doubleTap.call(z, r, r.target))) : p == f && (l !== _ && l !== w || (clearTimeout(Z), X = null, z.trigger("longtap", [r.target]), S.longTap && (m = S.longTap.call(z, r, r.target)))), m
                        }

                        function ce() {
                            var e = !0;
                            return null !== S.threshold && (e = N >= S.threshold), e
                        }

                        function ue() {
                            var e = !1;
                            return null !== S.cancelThreshold && null !== A && (e = ke(A) - N >= S.cancelThreshold), e
                        }

                        function de() {
                            return !(S.maxTimeThreshold && L >= S.maxTimeThreshold)
                        }

                        function he() {
                            var e = ge(),
                                t = ve(),
                                i = null === S.pinchThreshold || j >= S.pinchThreshold;
                            return e && t && i
                        }

                        function fe() {
                            return !!(S.pinchStatus || S.pinchIn || S.pinchOut)
                        }

                        function pe() {
                            var e = de(),
                                t = ce(),
                                i = ge(),
                                n = ve(),
                                a = ue(),
                                o = !a && n && i && t && e;
                            return o
                        }

                        function me() {
                            return !!(S.swipe || S.swipeStatus || S.swipeLeft || S.swipeRight || S.swipeUp || S.swipeDown)
                        }

                        function ge() {
                            return U === S.fingers || S.fingers === g || !x
                        }

                        function ve() {
                            return 0 !== Q[0].end.x
                        }

                        function $e() {
                            return !!S.tap
                        }

                        function be() {
                            return !!S.doubleTap
                        }

                        function we() {
                            if (null == X) return !1;
                            var e = He();
                            return be() && e - X <= S.doubleTapThreshold
                        }

                        function _e() {
                            Y = 0, K = 0
                        }

                        function xe() {
                            var e = !1;
                            if (Y) {
                                var t = He() - Y;
                                t <= S.fingerReleaseThreshold && (e = !0)
                            }
                            return e
                        }

                        function ye(e) {
                            !0 === e ? (z.bind(H, te), z.bind(M, ie), D && z.bind(D, ae)) : (z.unbind(H, te, !1), z.unbind(M, ie, !1), D && z.unbind(D, ae, !1)), z.data(T + "_intouch", !0 === e)
                        }

                        function Ce(e, t) {
                            var i = void 0 !== t.identifier ? t.identifier : 0;
                            return Q[e].identifier = i, Q[e].start.x = Q[e].end.x = t.pageX || t.clientX, Q[e].start.y = Q[e].end.y = t.pageY || t.clientY, Q[e]
                        }

                        function Te(e) {
                            var t = void 0 !== e.identifier ? e.identifier : 0,
                                i = function(e) {
                                    for (var t = 0; t < Q.length; t++)
                                        if (Q[t].identifier == e) return Q[t]
                                }(t);
                            return i.end.x = e.pageX || e.clientX, i.end.y = e.pageY || e.clientY, i
                        }

                        function ke(e) {
                            if (R[e]) return R[e].distance
                        }

                        function Se(e) {
                            return {
                                direction: e,
                                distance: 0
                            }
                        }

                        function Pe() {
                            return V - G
                        }

                        function Ee(e, t) {
                            var i = Math.abs(e.x - t.x),
                                n = Math.abs(e.y - t.y);
                            return Math.round(Math.sqrt(i * i + n * n))
                        }

                        function He() {
                            var e = new Date;
                            return e.getTime()
                        }
                        this.enable = function() {
                            return z.bind(E, ee), z.bind(O, ne), z
                        }, this.disable = function() {
                            return oe(), z
                        }, this.destroy = function() {
                            return oe(), z.data(T, null), z
                        }, this.option = function(t, i) {
                            if (void 0 !== S[t]) {
                                if (void 0 === i) return S[t];
                                S[t] = i
                            } else e.error("Option " + t + " does not exist on jQuery.swipe.options");
                            return null
                        }
                    }(this, k), S.data(T, P))
                })
            }.apply(this, arguments);
            return S
        }, e.fn.swipe.defaults = {
            fingers: 1,
            threshold: 75,
            cancelThreshold: null,
            pinchThreshold: 20,
            maxTimeThreshold: null,
            fingerReleaseThreshold: 250,
            longTapThreshold: 500,
            doubleTapThreshold: 200,
            swipe: null,
            swipeLeft: null,
            swipeRight: null,
            swipeUp: null,
            swipeDown: null,
            swipeStatus: null,
            pinchIn: null,
            pinchOut: null,
            pinchStatus: null,
            click: null,
            tap: null,
            doubleTap: null,
            longTap: null,
            hold: null,
            triggerOnTouchEnd: !0,
            triggerOnTouchLeave: !1,
            allowPageScroll: "auto",
            fallbackToMouseEvents: !0,
            excludedElements: "label, button, input, select, textarea, a, .noSwipe"
        }, e.fn.swipe.phases = {
            PHASE_START: $,
            PHASE_MOVE: b,
            PHASE_END: w,
            PHASE_CANCEL: _
        }, e.fn.swipe.directions = {
            LEFT: t,
            RIGHT: i,
            UP: n,
            DOWN: a,
            IN: o,
            OUT: s
        }, e.fn.swipe.pageScroll = {
            NONE: r,
            HORIZONTAL: p,
            VERTICAL: m,
            AUTO: l
        }, e.fn.swipe.fingers = {
            ONE: 1,
            TWO: 2,
            THREE: 3,
            ALL: g
        }
    }), $.browser.device) {
    var swipeable = [];
    $(".swipeable").length && ($(".swipeable").click(function() {
        $(this).removeClass("on"), setTimeout(function() {
            $(obj).removeClass("swipeable")
        }, 2e3)
    }), $.fn.isOnScreen = function() {
        if ($(this).hasClass("swipeable")) {
            var e = $(window),
                t = {
                    top: e.scrollTop(),
                    left: e.scrollLeft()
                };
            t.right = t.left + e.width(), t.bottom = t.top + e.height();
            var i = this.offset();
            i.right = i.left + this.outerWidth(), i.bottom = i.top + this.outerHeight();
            var n = this.outerHeight() / 3;
            return !(t.right < i.left || t.left > i.right || t.bottom < i.top + n || t.top > i.bottom - n)
        }
        return !1
    }, $(".swipeable").each(function() {
        obj = $(this), $(this).addClass("on"), $(window).scroll(function() {
            if ($(obj).isOnScreen()) {
                var e = $(obj).attr("class") + $(obj).html().length;
                swipeable[e] || (swipeable.push(e), setTimeout(function() {
                    $(obj).removeClass("on")
                }, 2e3), setTimeout(function() {
                    $(obj).removeClass("swipeable")
                }, 2500))
            }
        })
    }))
}
var expandboxParent, openPane, oldPane, oldPaneH, oldTargetDiv, setMoreInfoClick, focusSet, footerBarHeight, imgW, imgH, ratio;

function setNavState() {
    "1" == readCookie("mp_loggedin") ? ($("nav .login").remove(), $("nav .signup").remove()) : ($("nav .mymag").remove(), $("nav .logout").remove()), $(".auth-nav").css("display", "block")
}

function checkFooter(e) {
    $("footer.static").length > 0 && $("footer.static").removeClass("static"), $(".showCarousel").length || $(".home.page").length ? $(".holder.content").css("padding-bottom", footerBarHeight) : $("body").css("padding-bottom", footerBarHeight), (!setMoreInfoClick || e) && (setMoreInfoClick = !0, $("footer .more-info").click(function() {
        focusSet ? (focusSet = !1, $("footer").removeClass("focus")) : (focusSet = !0, $("footer").addClass("focus"))
    })), $("footer").mouseleave(function() {
        focusSet = !1, $(this).removeClass("focus"), clearTimeout(void 0)
    })
}

function showHeader() {
    $("#header_wrap.ease").length || $("#header_wrap").addClass("ease"), $("#header_wrap").addClass("show")
}

function hideHeader() {
    $("#header_wrap").removeClass("show")
}

function makeStatic() {
    $("#header_wrap").addClass("static"), $("body > .container").css("margin-top", $("#header_wrap").height())
}

function makeKenetic() {
    $("#header_wrap").removeClass("static"), $("body > .container").css("margin-top", 0)
}

function initMantle() {
    imgW = $(mantleBg).width(), imgH = $(mantleBg).height(), ratio = 100 * imgH / imgW, $(window).resize(), showbg = setTimeout(function() {
        $(".bgimage").css("opacity", 1), clearTimeout(showbg)
    }, 500)
}! function(e) {
    e.expandbox = function(t, i) {
        function n() {
            e("body, html").stop(), h && clearTimeout(h)
        }
        var a, o, s, r, l, c, u, d, h, f, p = 0,
            m = 0,
            g = {
                closedHeight: 0,
                height: 0
            },
            v = 1;
        e.browser.device && (e(window).width() < "1024" && (v = 2), e(window).width() < "768" && (v = 3));
        var $ = this;
        $.settings = {};
        var b = function() {
            o && e(o).find(".btn-close").click(), e(".expander").css("position", "relative"), e(t).hasClass("expandBox-holder") || e(t).addClass("expandBox-holder"), c = e(t).children().length, l = e(t).children().filter(function() {
                return !e(this).hasClass("holder")
            }), u = l.length, parseInt(c - u);
            for (var i = 0; 1 > u && 50 > i;) l = l.children(), u = l.length, i++;
            e(t).index();
            var n = e(t + " " + e(l).prop("tagName") + ":eq(0)");
            d = Math.round(e(n).parent().width() / (e(n).parent().width() / a)), e(".expandBox-holder .holder").length < 1 && e(t).append('<li class="holder"><ul></ul><div class="expander"></div></li>'), middleBox = Math.ceil(a / 2);
            for (var r = 0; r < l.length; r) middleBox == r && (e(l[r]).addClass("mid"), middleBox += a), e(l[r]).appendTo(e(t + " .holder >ul:eq(" + m + ")")), r % d == d - 1 && (e(t + " .holder").append('<ul></ul><div class="expander"></div>'), m++), r++;
            e(l).click(function(i) {
                if (!e(this).attr("data-link")) {
                    i.preventDefault(), e(l).removeClass("animate"), e(t).removeClass("expanded"), setHomepageModH(), e("li.selected").addClass("animate"), e(l).parent().find("li").removeClass("selected"), e(this).addClass("selected"), s = e(this).index() + "" + e(this).parent().index() + ".strng", o = e(this).parent().next(), e(o).find("article") && (e(o).find("article").removeClass("on"), e(o).find("article").addClass("old")), e(o).append(e(this).find("article").clone());
                    var n = e(this);
                    return e(o).find(".btn-close").click(function(t) {
                        t.preventDefault(), e(n).click(), setHomepageModH()
                    }), w(o), !1
                }
                window.location.href = e(this).attr("data-link")
            }), e(l).mouseover(function(t) {
                for (t.preventDefault(), expandboxParent = e(this).parent(); e(expandboxParent).children() < 1;) expandboxParent = e(expandboxParent).parent();
                0, 0;
                var i = e(expandboxParent).position();
                i && (i.left, i.top)
            })
        };
        setHomepageModH = function() {
            e(".home-page .companies-using") && (minH = e(".home-page .companies-using .content").height(), e(".home-page .companies-using").css("min-height", minH), setTimeout(function() {
                minH = e(".home-page .companies-using .content").height(), e(".home-page .companies-using").css("min-height", minH)
            }, 1e3))
        };
        var w = function(i) {
            if (r = 0, openPane && e(openPane).index() == e(i).index() || (e(openPane).removeClass("open"), oldPane = e(openPane).index(), oldPaneH = parseInt(e(openPane).css("height")), e(openPane).css("height", 0), e(i).addClass("open"), e(t).addClass("expanded"), e("body").addClass("expanded"), e(i).find("article") && e(i).css("height", e(i).find("article").height()), openPane = i, oldPane < e(i).index() && oldPaneH && (r = oldPaneH), e(".home-page").length ? updatePaneContent(i) : h = setTimeout(function() {
                    e(f).animate({
                        scrollTop: pos.top - r - p
                    }, 1e3, function() {
                        updatePaneContent(i)
                    }), clearTimeout(h)
                }, 500)), oldTargetDiv == s) e(".expander .old").remove(), e(openPane).removeClass("open"), e(openPane).empty(), e(t).find("li").removeClass("selected"), oldTargetDiv = !1, openPane = !1, r = e(expandboxParent).height(), setHomepageModH();
            else {
                e(t).addClass("expanded"), e("body").addClass("expanded");
                var n = setTimeout(function() {
                    e(".expander .old").remove(), e(i).find("article") && e(i).css("height", e(i).find("article").height()), e(i).find("article").addClass("on"), e(".home-page").length ? updatePaneContent(i) : h = setTimeout(function() {
                        e(f).animate({
                            scrollTop: pos.top - r - p
                        }, 1e3, function() {
                            updatePaneContent(i)
                        }), clearTimeout(h)
                    }, 500), e(".share").length, clearTimeout(n)
                }, 0);
                oldTargetDiv = s
            }
            pos = e(i).offset()
        };
        this.updateExpandBox = function() {
            b(s)
        }, updatePaneContent = function(t) {
            setHomepageModH();
            var i = e(t).find("img.app"),
                n = e(t).find("img.shadow");
            e(n).attr("src", e(n).attr("data-shadow")), setTimeout(function() {
                e(i).attr("src", e(i).attr("data-img")), e(i).on("load", function() {
                    e(t).find(".device").css("background", "none"), e(i).animate({
                        opacity: 1
                    }, 300)
                }), setTimeout(function() {
                    "1" != e(i).css("opacity") && (e(t).find(".device").css("background", "none"), e(i).animate({
                        opacity: 1
                    }, 3e3))
                }, 1e3)
            }, 1e3)
        }, document.addEventListener ? (document.addEventListener("mousewheel", n, !1), document.addEventListener("DOMMouseScroll", n, !1)) : document.attachEvent("onmousewheel", n), $.settings = e.extend({}, g, i), $.el = t, $.el, $.settings.height, a = Math.round($.settings.colmns / v), p = $.settings.topPad, f = "body", brwsr = readCookie("mp_browser"), "undefined" != typeof brwsr && brwsr && "safari" != brwsr && "chrome" != brwsr && (f = "html"), b()
    }
}(jQuery), $.magcarousel = function(e, t) {
    var i, n, a, o, s, r, l, c = 1,
        u = 0,
        d = 0,
        h = {},
        f = this;
    f.settings = {};
    var p = function() {
            i = $(window).width(), n = $(window).height(), $(".carcl-slides").width(i * a), $(".carcl-slides>li").width(i), $(".mantle .floater").length && $(".mantle .floater").css("padding-bottom", $(".carcl-nav").height()), $(f.el).offset(), $(f.el).css("width", i);
            for (var e = 0; a > e; e++) $(".carcl-slides>li:nth-child(" + (e + 1) + ")").css("left", i * e);
            o = $(f.el).height() - r, s = 1, $(".carcl-slides>li").height(o), 1 > s ? $(f.el + " ul .carcl-container").css("zoom", s).css("-moz-transform", "scale(" + s + ")") : $("ul .carcl-container").css("zoom", 1), $.each($(".carcl-slides>li"), function() {
                var e = $(this).find(".carcl-column-l").height();
                $(this).css("margin-top", 0 - e / 2 - r), e > u && (u = e)
            }), m()
        },
        m = function(e) {
            e && ("b" == e && d + 1 >= c && (c = d + 1), "n" == e && c >= a && (c = a)), scrollTime = 10, $(".anim .holder > div.on").length && (scrollTime = 1e3), setTimeout(function() {
                $(".carcl-slides").css("left", 0 - i * (c - 1))
            }, scrollTime), g(c)
        },
        g = function(t) {
            var o, s, r, l, c = t - d;
            c && ($(".carcl-nav li").removeClass("on"), $(".carcl-nav ul>li:nth-child(" + c + ")").addClass("on"), $(".page-template-template-landingpage-2-php").length && _gaq.push(["_trackEvent", "Home Carousel", "View Slide", $(".carcl-nav .on a").html()]), $(".carcl-feat-image").length && ($(".anim .carcl-feat-image").removeClass("on"), setTimeout(function() {
                $(".carcl-feat-image." + $(".carcl-nav .on").attr("data-title")).addClass("on")
            }, 1e3)), $(".anim .carcl-slides li").removeClass("on"), $(".anim .carcl-slides > li:nth-child(" + t + ")").addClass("on"), d + 1 >= c ? ($(e + " a.next").removeClass("mute"), $(e + " a.back").addClass("mute")) : c >= a - d ? ($(e + " a.back").removeClass("mute"), $(e + " a.next").addClass("mute")) : $(e + " a").removeClass("mute"), i > n ? (o = i, s = "auto", l = "w") : (o = "auto", s = n, margin = "auto", l = "h"), $(".carcl-feat-image").css("width", o).css("height", s).css("margin", s), "w" == l ? (r = $(".carcl-feat-image").height() / 2, $(".carcl-feat-image").css("margin-top", 0 - r).css("top", "50%")) : $(".carcl-feat-image").css("margin", 0).css("margin-right", 0).css("margin-left", 0).css("top", "0"))
        };
    $(window).resize(function() {
            $("body").removeClass("anim"), p()
        }),
        function() {
            f.settings = $.extend({}, h, t), f.el = e, f.settings.bottomPadding, f.settings.navOffset && (d += f.settings.navOffset), target = f.el, a = $(".carcl-slides>li").length, r = $(".carcl-nav").height(), $(e + " a.back").click(function(e) {
                e.preventDefault(), $("body").addClass("anim"), c--, m("b")
            }), $(e + " a.next").click(function(e) {
                e.preventDefault(), $("body").addClass("anim"), c++, m("n")
            }), $(".carcl-nav ul li").click(function(t) {
                t.preventDefault(), $("body").addClass("anim"), c = $(this).index() + (d + 1), $(e).addClass("view"), $(e).removeClass("hover"), $(".mantle").addClass("showCarousel"), (navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/iPad/i)) && ($("body").scrollTop($("#header_wrap").height()), $(".mantle").height($(window).height())), m()
            }), $(e + " .closer").click(function(t) {
                t.preventDefault(), $(e).removeClass("view"), l = !0, clearHover = setTimeout(function() {
                    l = !1, c = 1, $(".mantle").removeClass("showCarousel"), m(), clearTimeout(clearHover), $(window).resize()
                }, 500)
            }), $(e).click(function() {
                $(e).removeClass("hover")
            }), $(e).hover(function() {
                $(e).hasClass("view") || l || $(e).addClass("hover")
            }), $(e).mouseleave(function() {
                $(e).removeClass("hover")
            }), $(".landingpage-wrapper ").click(function(e) {
                e.preventDefault(), $(this).offset(), c = 1, m()
            });
            var i = 0;
            navCnt = $(".carcl-nav li").length, itemWidth = $(".carcl-container").width() / navCnt, $.each($(".carcl-nav li"), function() {
                $(".carcl-nav li:eq(" + i + ")").css("width", itemWidth), i++
            }), $(".home " + e + " .closer").click(), $(".home .mantle").removeClass("showCarousel"), p(), m()
        }()
}, $(function() {
    function e() {
        "undefined" != typeof sort || sort || (sort = ""), "undefined" != typeof customer_uses && customer_uses ? (dirPath = "software-uses-results", usecase = sort ? "&" : "?", usecase += "usecases=" + customer_uses) : (dirPath = "clients", usecase = "", $("#main-menu li:eq(0)").hasClass("current-menu-item") || $("#main-menu li:eq(0)").addClass("current-menu-item")), "undefined" != typeof datalink && datalink ? (datalink = sort || usecase ? "&" : "?", datalink += "datalink=1") : datalink = "", "undefined" != typeof uncache && uncache ? (uncache = sort || usecase || datalink ? "&" : "?", uncache += "uncache=1") : uncache = "", $.get("/client/page/" + i + sort + usecase + datalink + uncache, function(e) {
            var n;
            n = e, el = "expandBox" + i, n = n, $("#clients-list").append(n), "undefined" == typeof clmns && (clmns = "4"), t ? t.updateExpandBox() : (t = !0, t = new $.expandbox("." + el, {
                adjustable: !0,
                colmns: clmns,
                topPad: 60
            })), i >= numOfPosts ? $(".load-more").remove() : $(".load-more").removeClass("loading"), $("." + el).position(), $(".expandBox-holder .holder  .client-item:last-child .client-img img ").load(function() {
                console.log("loaded"), $("." + el).removeClass("fade"), $(window).resize()
            }), i++
        }), $(".load-more").html("<span>Load page " + (i + 1) + " of " + numOfPosts + "</span>")
    }
    $ = jQuery;
    var t, i = 1;
    $("#clients-list").length && ($("#subNav li a").click(function(t) {
        var i;
        t.preventDefault(), i = $(this).attr("data-taxname") ? "/clients/?filter=" + $(this).attr("data-taxname") : "/clients/", window.location.href = i, e()
    }), $(".load-more").click(function(t) {
        t.preventDefault(), $(this).addClass("loading"), e()
    }), $.each($("#subNav li a"), function() {
        "?filter=" + $(this).attr("data-taxname") == sort && (sort = "?filter=" + $(this).attr("data-taxid"), $(".clients >h1").after("<h2>" + $(this).html() + "</h2>"))
    }), ("undefined" == typeof sort && sort || "" == sort) && $("#subNav .wrapper li:eq(0)").addClass("current-menu-item"), $(".load-more").click(), window.addEventListener("orientationchange", function() {
        i = 1, $("#clients-list").empty(), t = !1, e()
    })), "undefined" != typeof dirPath && dirPath && (addThisBtn = function() {
        var e = $(".client-item.selected h2").text(),
            t = $(".client-item.selected .btn-more").attr("href");
        $(".expander.open .on .share").append('<div class="addthis_toolbox addthis_default_style" addthis:url="' + t + '" addthis:title="' + e + '"><div class="custom_images"><a class="addthis_button_more"></a></div></div>'), addthis.init(), addthis.toolbox(".addthis_toolbox")
    })
}), setNavState(), $(".more-links ul.links").click(function() {
    $(this).hasClass("expand") ? $(this).removeClass("expand") : $(this).addClass("expand")
}), $("#primaryNav .menu-item-has-children").length && $("#primaryNav .menu-item-has-children").click(function() {
    $("#primaryNav .menu-item-has-children.hover").length || ($(this).addClass("hover"), setTimeout(function() {
        $("#primaryNav .menu-item-has-children.hover").removeClass("hover"), $("#primaryNav").click(), $("#primaryNav .menu-item-has-children").trigger("mouseout")
    }, 4e3))
}), footerBarHeight = getFooterHeight();
var minHeight = parseInt($(".mantle").css("min-height")),
    borders = 2 * parseInt($(".mantle").css("border-top-width"));
$("footer .buttons .download").click(function() {
    gqloc = window.location.pathname, _gaq.push(["_trackEvent", "Footer Buttons", "Download", gqloc])
}), $("footer .buttons .contact").click(function() {
    gqloc = window.location.pathname, _gaq.push(["_trackEvent", "Footer Buttons", "Contact Us", gqloc])
}), $("#header_wrap header #main-menu.menu .menu-item-has-children > a").click(function() {
    return !1
}), ($("#header_wrap #subNav").length || $("#header_wrap .carcl-nav").length) && $("#main-menu").addClass("delta"), checkFooter();
var oldScroll = 0;
$(window).scroll(function() {
    $("body.view .features .carousel").height(), $(".view .features").length;
    $("#header_wrap").height(), $("#header_wrap").height(), $("#header_wrap").hasClass("ignore") || $.browser.device || ($(window).scrollTop() < $("#header_wrap").height() ? $("#header_wrap").hasClass("show") ? $(window).scrollTop() <= 1 && (makeKenetic(), hideHeader()) : (makeKenetic(), hideHeader()) : (makeStatic(), $(window).scrollTop() < oldScroll ? showHeader() : hideHeader()), $(window).scrollTop() < 1 && $("#header_wrap").removeClass("ease")), oldScroll = $(window).scrollTop()
});
var oldli, mantle = ".home .mantle, .home .infoGraphic, .home .companies-using",
    mantleBg = ".home .mantle .bg-image, .home .bgimage";

function sizeIframe() {
    $(".page-id-3270 #colorbox iframe").length ? ($(".page-id-3270").length > 0 && $(".page-id-3270 #colorbox iframe").load(function() {
        var e = $(".page-id-3270 #colorbox iframe").contents().find("body").height() + 20;
        $.colorbox.resize({
            width: $("#colorbox").width,
            height: e
        })
    }), clearTimeout(checkForLoad)) : checkForLoad = setTimeout(function() {
        sizeIframe()
    }, 1e3)
}($(window).resize(function() {
    if ($(mantle).length)
        if (ratio) {
            var e;
            footerBarHeight = getFooterHeight() ? getFooterHeight() : 0, e = $.browser.device ? $(window).height() : $(window).height() - $("#header_wrap").height() - parseInt(footerBarHeight) - borders, minHeight > e && (e = minHeight), $(".home .mantle").css("height", e), $.browser.device ? $(".home .infoGraphic, .home .companies-using").css("height", e) : $(".home .infoGraphic, .home .companies-using").css("height", e + $("#header_wrap").height()), mantleRatio = 100 * $(mantle).height() / $(mantle).width(), ratio > mantleRatio ? ($(mantleBg).addClass("wide"), $(mantleBg).removeClass("tall")) : ($(mantleBg).removeClass("wide"), $(mantleBg).addClass("tall")), 0 == $(mantle).css("opacity") && $(mantle).css("opacity", 1)
        } else initMantle();
    checkFooter()
}), $(mantle).length ? ($(mantleBg).on("load", function() {
    initMantle()
}), showMantle = setTimeout(function() {
    $(mantle).css("opacity", 1), $(window).resize(), clearTimeout(showMantle)
}, 1e3)) : $(window).resize(), $(".home.page.page-id-21").length && (carousel1 = new $.magcarousel(".carousel", {
    bottomPadding: 100,
    navOffset: 1
}), $(".carcl-slides").swipe({
    swipeLeft: function() {
        $(".carousel a.next").click()
    },
    swipeRight: function() {
        $(".carousel  a.back").click()
    }
})), $(".addthis_toolbox").length && (addthis.init(), addthis.toolbox(".addthis_toolbox")), $(".comparisonChart").length) && ($(".comparisonChart li h5").click(function(e) {
    e.preventDefault();
    var t = $(this).closest("ul").index() + "" + $(this).parent().index();
    $(".comparisonChart ul").removeClass("on"), $(".comparisonChart ul li").removeClass("on"), oldli !== t ? ($(this).parent().addClass("on"), $(this).closest("ul").addClass("on"), oldli = t) : oldli = !1
}), $(".comparisonChart li h5").each(function() {
    $(this).parent().prepend('<em class="included"></em>')
}));
var iW, iH, scrlg, $window = $(window),
    $document = $(document);
if ($(".mag-customselect").selectToAutocomplete(), $("#show_search").click(function() {
        return $("#searchform").toggleClass("hidden"), $("#s").focus(), !1
    }), $(".signup-user-type").change(function() {
        $(".signup-type").addClass("hidden"), $(".signup-" + $(this).val()).removeClass("hidden")
    }), $(".expand-row, .expand-next").click(function() {
        $(this).hasClass("more-link") ? $(this).toggleClass("t-desc-open").closest("table").next().stop(!0, !0).slideToggle(400) : $(this).toggleClass("t-desc-open").find(".t-description").stop(!0, !0).slideToggle(200)
    }), $(".t-description").click(function() {
        return !1
    }), $("#resend_magplus_activation_email").click(function() {
        return $.ajax({
            url: psVar.ajaxurl,
            type: "post",
            data: "action=resend_activation_mail",
            success: function() {}
        }), !1
    }), $(".single-clients").length && ($("#subNav li a").click(function(e) {
        var t;
        e.preventDefault(), t = $(this).attr("data-taxname") ? "/clients/?filter=" + $(this).attr("data-taxname") : "/clients/", window.location.href = t, loadMoreClients()
    }), $("#subNav li a").click(function(e) {
        var t;
        e.preventDefault(), t = $(this).attr("data-taxname") ? "/clients/?filter=" + $(this).attr("data-taxname") : "/clients/", window.location.href = t, loadMoreClients()
    })), $(".black-box-placeholder").css({
        height: $(".black-box-placeholder").height() + "px"
    }), $(".black-box .primary-button:first").length > 0) {
    var window_top, buttons_pos = $(".black-box .primary-button:first").offset(),
        is_under = !1;
    $window.scroll(function() {
        (window_top = $document.scrollTop()) > buttons_pos.top ? is_under || ($(".black-box-wrap").addClass("block-fixed"), is_under = !0) : is_under && ($(".black-box-wrap").removeClass("block-fixed"), is_under = !1)
    })
}
$(".ps-analytics").click(function() {
    var e = $(this).attr("title");
    _gaq.push(["_trackEvent", "CustomTracking", e])
}), $(".social-link").click(function() {
    var e = $(this).find("img").attr("alt");
    _gaq.push(["_trackEvent", "socialLinks", e])
}), $(".social-link").click(function() {
    var e = $(this),
        t = e.attr("data-height"),
        i = e.attr("data-width"),
        n = screen.height,
        a = screen.width;
    Math.round(a / 2 - i / 2);
    return n > t && Math.round(n / 2 - t / 2), 100 > i && (i = 750), 100 > t && (t = 550), !1
}), $(document).delegate(".facebook-share", "click", function() {
    var e = $(this),
        t = e.attr("data-name"),
        i = e.attr("href"),
        n = e.attr("data-picture"),
        a = e.attr("data-caption"),
        o = e.attr("data-description"),
        s = e.attr("data-track");
    return FB.ui({
        method: "feed",
        name: t,
        link: i,
        picture: n,
        caption: a,
        description: o
    }, function(e) {
        e && e.post_id && _gaq.push(["_trackEvent", "mag-custom", s])
    }), !1
}), $(".what-is-tour-wrap a.secondary-button ").click(function() {
    _gaq.push(["_trackEvent", "Video", "Play", "Mag+ Tour"])
}), $("#footer_nav").find(".disable-link > a").click(__return_false()), $(".open-by-href").click(function() {
    return $($(this).attr("href")).removeClass("hidden"), !1
}), $(".colorbox").colorbox(), $(".colorbox-inline, .colorbox-inline-menu a").colorbox({
    inline: !0,
    href: $(this).attr("href")
}), $(".colorbox-iframe").colorbox({
    iframe: !0,
    width: "100%",
    height: "100%",
    maxWidth: 900,
    maxHeight: 506
}), $(".open-window").click(function() {
    var e = screen.height,
        t = screen.width,
        i = Math.round(t / 2 - 300),
        n = Math.round(e / 2 - 300),
        a = $(this).attr("data-param");
    return window.open($(this).attr("href") + a, "magup", "scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=600,height=600,left=" + i + ",top=" + n), !1
}), $(".frame-cf").length > 0 && $(".frame-cf").load(function() {
    $(".frame-cf").height($(".frame-cf").contents().find("body").height() + 20), $(".salesforce-loading-form").remove()
}), $.browser.device ? (iW = screen.width - 15, iH = screen.height - 15, scrlg = !0) : (iW = 820, iH = 480, scrlg = !1), $(".buy-form-button").colorbox({
    iframe: !0,
    innerWidth: iW,
    innerHeight: iH,
    scrolling: scrlg,
    onComplete: function() {
        sizeIframe()
    }
});
var magplus_buy_loading = function() {
    var e = "no";
    return function(t) {
        return (t = t || !1) ? "no" != e : void("no" != e ? (e = "no", $("#buy_loader").hide()) : (e = "yes", $("#buy_loader").show()))
    }
}();
$("#content.pricing").length && $(".buy-form-button").click(function() {
    var e = $(this).attr("data-id");
    document.cookie = "buytype=" + e.toLowerCase() + "; ;path=/salesforce-buy-form-thanks", document.cookie = "buytype=" + e.toLowerCase() + "; ;path=/salesforce-buy-form", $("#sf_Lead_Event_Origin__c").val("Buy " + e)
}), $(".isMobile .pricing-mobile-nav").length && $(".pricing-mobile-nav li").click(function() {
    $(".pricing-mobile-nav li").removeClass("on"), $(".package").removeClass("on"), $(this).addClass("on"), $(".package." + $(this).attr("data-pkg")).addClass("on")
}), $("#buy_form-sf").submit(function() {
    return $(this), $.ajax({
        success: function(e) {
            alert(e)
        }
    }), !1
}), $("#buy_form").submit(function() {
    if ($("#sf_Lead_Event_Origin__c").val("Buy Form: " + $.trim($("#product_to_buy").val())), magplus_buy_loading(!0)) return !1;
    if (magplus_buy_loading(), !$("#buy_eula_accept").is(":checked")) return alert('You must accept "Mag+ end user license agreement" by checking the box.'), magplus_buy_loading(), !1;
    var e = $(this);
    return $.ajax({
        url: psVar.ajaxurl,
        type: "post",
        data: $(this).serialize() + "&action=buy_magplus_form",
        success: function(t) {
            if (t.success) {
                var i = $.trim($("#product_to_buy").val());
                t.mail ? (_gaq.push(["_trackPageview", "/buy/success/" + i]), e.html(t.msg), $.colorbox.resize(), $("#cboxContent").append('<iframe src="/features-price/salesforce-buy-form-thanks-' + i + '" style="display:none"></iframe>')) : alert("There were an error sending the mail try again or contact sales@magplus.com")
            } else alert("Please correct these errors: \n" + t.errors.join(", \n"));
            magplus_buy_loading()
        },
        error: function() {
            alert("There was an error."), magplus_buy_loading()
        }
    }), !1
}), $("#contact-btn.primary-button").click(function(e) {
    e.preventDefault();
    var t = $(".anchor-form").offset();
    $("html, body").animate({
        scrollTop: t.top
    }, 300)
});
var eqHeightBiggest = 0;
$(".eq-height").each(function() {
    $(this).height() > eqHeightBiggest && (eqHeightBiggest = $(this).height())
}), eqHeightBiggest > 0 && $(".eq-height").css("height", eqHeightBiggest + "px"), $(".mag-icon-link").length && ($(".mag-icon-link").magbubble(), $(".f-row:not(.f-row-title) .tooltip-text").closest(".f-row").magbubble({
    top: 10,
    delay: 400,
    forceEnd: !0
}), $(".fp-row .tooltip-text").closest(".fp-relative").magbubble({
    top: 0,
    delay: 400,
    forceEnd: !0
}), $(".remove-x").click(function() {
    $(this).closest(".remove-me").remove()
})), setTimeout(function() {
    $("#SnapABug_Button").length && ($("#SnapABug_Button").click(function() {
        $(this).addClass("active"), _gaq.push(["_trackEvent", "Online Chat", "Clicked"])
    }), setInterval(function() {
        !$("#SnapABug_CBMBtn").length && $("#SnapABug_Button.active").length && $("#SnapABug_Button").removeClass("active")
    }, 2e3))
}, 2e3), $(".blog-tag-list").length && $(".blog-tag-list .btn-go").click(function() {
    "#" != $("#subjectTag").val() && (location.href = "/" + $("#subjectTag").val())
});
var MagPlus = {
    signup: function(e) {
        if ("success" == e.status) {
            pingBing("New User");
            var t = {
                user: e.user,
                user_type: $('input[name="user_type"]:checked').val(),
                where: $(".register-new-form-where").val(),
                browser_lang: window.navigator.language || navigator.browserLanguage || "",
                action: "ps_signed_up_user"
            };
            jQuery.ajax({
                url: psVar.ajaxurl,
                data: t,
                type: "POST"
            }), setTimeout(function() {
                window.location.href = e.redirect_to
            }, 300)
        } else {
            var i = jQuery(".magplus-signup");
            i.find(".form-loader").hide(), i.find(".ps-container-error").removeClass("ps-container-error");
            for (var n in e.errors) i.find('input[name="registration[' + n + ']"]').parent().addClass("ps-container-error").find(".ps-error").html(e.errors[n].join(", "))
        }
    }
};
$("#magplus_signup").submit(function(e) {
    e.preventDefault();
    var t = $(this),
        i = t.find($("#Daddy_Analytics_WebForm_URL")).attr("value");
    if (i.length > 255) {
        var n = i.slice(-254);
        t.find($("#Daddy_Analytics_WebForm_URL")).attr("value", n)
    }
    if ($loader = t.find(".form-loader"), t.find(".accept-terms").is(":checked")) {
        var a = t.find(".registration-email"),
            o = a.val().split("@")[0];
        if (["admin", "abuse", "postmaster", "noc", "root", "security", "spam", "sysadmin", "compliance", "registrar"].indexOf(o) >= 0) return a.parent().addClass("ps-container-error").find(".ps-error").html("Do not use any of these addresses: admin@, abuse@, postmaster@, noc@, root@, security@, spam@, sysadmin@, compliance@, registrar@"), !1;
        $loader.show(), $.ajax({
            url: t.attr("action") + ".js",
            dataType: "jsonp",
            jsonpCallback: "MagPlus.signup",
            data: t.serialize()
        })
    } else alert("You need to verify that you have read & understood the End User License Agreement by checking the box.");
    return !1
});
var $download_form = $(".magplus-download");
if ($download_form.length) {
    var OS = "Win"; - 1 != navigator.appVersion.indexOf("Mac") && (OS = "MacOS"), $download_form.find('input[name="os"][value="' + OS + '"]').attr("checked", "checked"), $download_form.submit(function() {
        var e = $("input[name='os']:checked").val(),
            t = $("input[name='cs_version']:checked").val();
        if (void 0 !== e && void 0 !== t) {
            if ("Win" == e) var i = "zip";
            else i = "dmg";
            window.open("https://download.magplus.com/index.php?cs=" + t + "&extension=" + i, "_blank"), window.location = "/my-magplus/installation/?downloaded=true"
        } else {
            if ("" == $("#cs_version").val()) return alert("Please select your InDesign version before downloading."), !1
        }
        return _gaq.push(["_trackEvent", "Tool Downloads v " + readCookie("mg_browser"), t, e]), !1
    })
}