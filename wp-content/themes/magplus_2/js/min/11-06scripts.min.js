function getFooterHeight() {
    return $("footer").height() + parseInt($("footer").css("bottom")) + parseInt($("footer").css("border-top-width"))
}

function readCookie(e) {
    for (var t = e + "=", n = document.cookie.split(";"), r = 0; r < n.length; r++) {
        for (var s = n[r];
            " " == s.charAt(0);) s = s.substring(1, s.length);
        if (0 == s.indexOf(t)) return s.substring(t.length, s.length)
    }
    return null
}
if ($.browser.device = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()), $.browser.device) {
    if ($("html").addClass("isMobile"), $("#subNav").length) {
        $(".selText").length || $("#subNav").prepend("<span></span>"), $("#content").prepend($("#subNav")), $(".ps-subnav-ul").length && ($(".ps-subnav-ul .current_page_item").length && $(".ps-subnav-ul .current_page_item .children").insertAfter($("#subNav .current_page_item a")), $(".ps-subnav-ul .current_page_parent").length && $(".ps-subnav-ul .current_page_parent .children").insertAfter($("#subNav .current_page_parent a")));
        var selText = $("#subNav .current_page_item a").html();
        $("#subNav span").html(selText), $("#subNav").click(function() {
            $("#subNav.active").length ? $("#subNav").removeClass("active") : $("#subNav").addClass("active")
        })
    }
    $(".isMobile .navigation-toggle").click(function() {
        $("html.viewmenu").length ? $("html").removeClass("viewmenu") : $("html").addClass("viewmenu")
    })
}
$(".single-use_types").length && $("#menu-item-20841").addClass("current-menu-item");

function __return_false() {
    return !1
}! function(t, e) {
    function i(e, i) {
        var o = e.nodeName.toLowerCase();
        if ("area" === o) {
            var s, r = e.parentNode,
                a = r.name;
            return e.href && a && "map" === r.nodeName.toLowerCase() ? (s = t("img[usemap=#" + a + "]")[0], !!s && n(s)) : !1
        }
        return (/input|select|textarea|button|object/.test(o) ? !e.disabled : "a" == o ? e.href || i : i) && n(e)
    }

    function n(e) {
        return !t(e).parents().andSelf().filter(function() {
            return "hidden" === t.curCSS(this, "visibility") || t.expr.filters.hidden(this)
        }).length
    }
    t.ui = t.ui || {}, t.ui.version || (t.extend(t.ui, {
        version: "1.8.23",
        keyCode: {
            ALT: 18,
            BACKSPACE: 8,
            CAPS_LOCK: 20,
            COMMA: 188,
            COMMAND: 91,
            COMMAND_LEFT: 91,
            COMMAND_RIGHT: 93,
            CONTROL: 17,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            INSERT: 45,
            LEFT: 37,
            MENU: 93,
            NUMPAD_ADD: 107,
            NUMPAD_DECIMAL: 110,
            NUMPAD_DIVIDE: 111,
            NUMPAD_ENTER: 108,
            NUMPAD_MULTIPLY: 106,
            NUMPAD_SUBTRACT: 109,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SHIFT: 16,
            SPACE: 32,
            TAB: 9,
            UP: 38,
            WINDOWS: 91
        }
    }), t.fn.extend({
        propAttr: t.fn.prop || t.fn.attr,
        _focus: t.fn.focus,
        focus: function(e, i) {
            return "number" == typeof e ? this.each(function() {
                var n = this;
                setTimeout(function() {
                    t(n).focus(), i && i.call(n)
                }, e)
            }) : this._focus.apply(this, arguments)
        },
        scrollParent: function() {
            var e;
            return e = t.browser.msie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function() {
                return /(relative|absolute|fixed)/.test(t.curCSS(this, "position", 1)) && /(auto|scroll)/.test(t.curCSS(this, "overflow", 1) + t.curCSS(this, "overflow-y", 1) + t.curCSS(this, "overflow-x", 1))
            }).eq(0) : this.parents().filter(function() {
                return /(auto|scroll)/.test(t.curCSS(this, "overflow", 1) + t.curCSS(this, "overflow-y", 1) + t.curCSS(this, "overflow-x", 1))
            }).eq(0), /fixed/.test(this.css("position")) || !e.length ? t(document) : e
        },
        zIndex: function(i) {
            if (i !== e) return this.css("zIndex", i);
            if (this.length)
                for (var n, o, s = t(this[0]); s.length && s[0] !== document;) {
                    if (n = s.css("position"), ("absolute" === n || "relative" === n || "fixed" === n) && (o = parseInt(s.css("zIndex"), 10), !isNaN(o) && 0 !== o)) return o;
                    s = s.parent()
                }
            return 0
        },
        disableSelection: function() {
            return this.bind((t.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function(t) {
                t.preventDefault()
            })
        },
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        }
    }), t("<a>").outerWidth(1).jquery || t.each(["Width", "Height"], function(i, n) {
        function o(e, i, n, o) {
            return t.each(s, function() {
                i -= parseFloat(t.curCSS(e, "padding" + this, !0)) || 0, n && (i -= parseFloat(t.curCSS(e, "border" + this + "Width", !0)) || 0), o && (i -= parseFloat(t.curCSS(e, "margin" + this, !0)) || 0)
            }), i
        }
        var s = "Width" === n ? ["Left", "Right"] : ["Top", "Bottom"],
            r = n.toLowerCase(),
            a = {
                innerWidth: t.fn.innerWidth,
                innerHeight: t.fn.innerHeight,
                outerWidth: t.fn.outerWidth,
                outerHeight: t.fn.outerHeight
            };
        t.fn["inner" + n] = function(i) {
            return i === e ? a["inner" + n].call(this) : this.each(function() {
                t(this).css(r, o(this, i) + "px")
            })
        }, t.fn["outer" + n] = function(e, i) {
            return "number" != typeof e ? a["outer" + n].call(this, e) : this.each(function() {
                t(this).css(r, o(this, e, !0, i) + "px")
            })
        }
    }), t.extend(t.expr[":"], {
        data: t.expr.createPseudo ? t.expr.createPseudo(function(e) {
            return function(i) {
                return !!t.data(i, e)
            }
        }) : function(e, i, n) {
            return !!t.data(e, n[3])
        },
        focusable: function(e) {
            return i(e, !isNaN(t.attr(e, "tabindex")))
        },
        tabbable: function(e) {
            var n = t.attr(e, "tabindex"),
                o = isNaN(n);
            return (o || n >= 0) && i(e, !o)
        }
    }), t(function() {
        var e = document.body,
            i = e.appendChild(i = document.createElement("div"));
        i.offsetHeight, t.extend(i.style, {
            minHeight: "100px",
            height: "auto",
            padding: 0,
            borderWidth: 0
        }), t.support.minHeight = 100 === i.offsetHeight, t.support.selectstart = "onselectstart" in i, e.removeChild(i).style.display = "none"
    }), t.curCSS || (t.curCSS = t.css), t.extend(t.ui, {
        plugin: {
            add: function(e, i, n) {
                var o = t.ui[e].prototype;
                for (var s in n) o.plugins[s] = o.plugins[s] || [], o.plugins[s].push([i, n[s]])
            },
            call: function(t, e, i) {
                var n = t.plugins[e];
                if (n && t.element[0].parentNode)
                    for (var o = 0; o < n.length; o++) t.options[n[o][0]] && n[o][1].apply(t.element, i)
            }
        },
        contains: function(t, e) {
            return document.compareDocumentPosition ? 16 & t.compareDocumentPosition(e) : t !== e && t.contains(e)
        },
        hasScroll: function(e, i) {
            if ("hidden" === t(e).css("overflow")) return !1;
            var n = i && "left" === i ? "scrollLeft" : "scrollTop",
                o = !1;
            return e[n] > 0 ? !0 : (e[n] = 1, o = e[n] > 0, e[n] = 0, o)
        },
        isOverAxis: function(t, e, i) {
            return t > e && e + i > t
        },
        isOver: function(e, i, n, o, s, r) {
            return t.ui.isOverAxis(e, n, s) && t.ui.isOverAxis(i, o, r)
        }
    }))
}(jQuery),
function(t, e) {
    if (t.cleanData) {
        var i = t.cleanData;
        t.cleanData = function(e) {
            for (var n, o = 0; null != (n = e[o]); o++) try {
                t(n).triggerHandler("remove")
            } catch (s) {}
            i(e)
        }
    } else {
        var n = t.fn.remove;
        t.fn.remove = function(e, i) {
            return this.each(function() {
                return i || (!e || t.filter(e, [this]).length) && t("*", this).add([this]).each(function() {
                    try {
                        t(this).triggerHandler("remove")
                    } catch (e) {}
                }), n.call(t(this), e, i)
            })
        }
    }
    t.widget = function(e, i, n) {
        var o, s = e.split(".")[0];
        e = e.split(".")[1], o = s + "-" + e, n || (n = i, i = t.Widget), t.expr[":"][o] = function(i) {
            return !!t.data(i, e)
        }, t[s] = t[s] || {}, t[s][e] = function(t, e) {
            arguments.length && this._createWidget(t, e)
        };
        var r = new i;
        r.options = t.extend(!0, {}, r.options), t[s][e].prototype = t.extend(!0, r, {
            namespace: s,
            widgetName: e,
            widgetEventPrefix: t[s][e].prototype.widgetEventPrefix || e,
            widgetBaseClass: o
        }, n), t.widget.bridge(e, t[s][e])
    }, t.widget.bridge = function(i, n) {
        t.fn[i] = function(o) {
            var s = "string" == typeof o,
                r = Array.prototype.slice.call(arguments, 1),
                a = this;
            return o = !s && r.length ? t.extend.apply(null, [!0, o].concat(r)) : o, s && "_" === o.charAt(0) ? a : (s ? this.each(function() {
                var n = t.data(this, i),
                    s = n && t.isFunction(n[o]) ? n[o].apply(n, r) : n;
                return s !== n && s !== e ? (a = s, !1) : void 0
            }) : this.each(function() {
                var e = t.data(this, i);
                e ? e.option(o || {})._init() : t.data(this, i, new n(o, this))
            }), a)
        }
    }, t.Widget = function(t, e) {
        arguments.length && this._createWidget(t, e)
    }, t.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        options: {
            disabled: !1
        },
        _createWidget: function(e, i) {
            t.data(i, this.widgetName, this), this.element = t(i), this.options = t.extend(!0, {}, this.options, this._getCreateOptions(), e);
            var n = this;
            this.element.bind("remove." + this.widgetName, function() {
                n.destroy()
            }), this._create(), this._trigger("create"), this._init()
        },
        _getCreateOptions: function() {
            return t.metadata && t.metadata.get(this.element[0])[this.widgetName]
        },
        _create: function() {},
        _init: function() {},
        destroy: function() {
            this.element.unbind("." + this.widgetName).removeData(this.widgetName), this.widget().unbind("." + this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass + "-disabled ui-state-disabled")
        },
        widget: function() {
            return this.element
        },
        option: function(i, n) {
            var o = i;
            if (0 === arguments.length) return t.extend({}, this.options);
            if ("string" == typeof i) {
                if (n === e) return this.options[i];
                o = {}, o[i] = n
            }
            return this._setOptions(o), this
        },
        _setOptions: function(e) {
            var i = this;
            return t.each(e, function(t, e) {
                i._setOption(t, e)
            }), this
        },
        _setOption: function(t, e) {
            return this.options[t] = e, "disabled" === t && this.widget()[e ? "addClass" : "removeClass"](this.widgetBaseClass + "-disabled ui-state-disabled").attr("aria-disabled", e), this
        },
        enable: function() {
            return this._setOption("disabled", !1)
        },
        disable: function() {
            return this._setOption("disabled", !0)
        },
        _trigger: function(e, i, n) {
            var o, s, r = this.options[e];
            if (n = n || {}, i = t.Event(i), i.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), i.target = this.element[0], s = i.originalEvent, s)
                for (o in s) o in i || (i[o] = s[o]);
            return this.element.trigger(i, n), !(t.isFunction(r) && r.call(this.element[0], i, n) === !1 || i.isDefaultPrevented())
        }
    }
}(jQuery),
function(t) {
    t.ui = t.ui || {};
    var e = /left|center|right/,
        i = /top|center|bottom/,
        n = "center",
        o = {},
        s = t.fn.position,
        r = t.fn.offset;
    t.fn.position = function(r) {
            if (!r || !r.of) return s.apply(this, arguments);
            r = t.extend({}, r);
            var a, l, u, c = t(r.of),
                h = c[0],
                f = (r.collision || "flip").split(" "),
                d = r.offset ? r.offset.split(" ") : [0, 0];
            return 9 === h.nodeType ? (a = c.width(), l = c.height(), u = {
                top: 0,
                left: 0
            }) : h.setTimeout ? (a = c.width(), l = c.height(), u = {
                top: c.scrollTop(),
                left: c.scrollLeft()
            }) : h.preventDefault ? (r.at = "left top", a = l = 0, u = {
                top: r.of.pageY,
                left: r.of.pageX
            }) : (a = c.outerWidth(), l = c.outerHeight(), u = c.offset()), t.each(["my", "at"], function() {
                var t = (r[this] || "").split(" ");
                1 === t.length && (t = e.test(t[0]) ? t.concat([n]) : i.test(t[0]) ? [n].concat(t) : [n, n]), t[0] = e.test(t[0]) ? t[0] : n, t[1] = i.test(t[1]) ? t[1] : n, r[this] = t
            }), 1 === f.length && (f[1] = f[0]), d[0] = parseInt(d[0], 10) || 0, 1 === d.length && (d[1] = d[0]), d[1] = parseInt(d[1], 10) || 0, "right" === r.at[0] ? u.left += a : r.at[0] === n && (u.left += a / 2), "bottom" === r.at[1] ? u.top += l : r.at[1] === n && (u.top += l / 2), u.left += d[0], u.top += d[1], this.each(function() {
                var e, i = t(this),
                    s = i.outerWidth(),
                    c = i.outerHeight(),
                    h = parseInt(t.curCSS(this, "marginLeft", !0)) || 0,
                    p = parseInt(t.curCSS(this, "marginTop", !0)) || 0,
                    m = s + h + (parseInt(t.curCSS(this, "marginRight", !0)) || 0),
                    v = c + p + (parseInt(t.curCSS(this, "marginBottom", !0)) || 0),
                    g = t.extend({}, u);
                "right" === r.my[0] ? g.left -= s : r.my[0] === n && (g.left -= s / 2), "bottom" === r.my[1] ? g.top -= c : r.my[1] === n && (g.top -= c / 2), o.fractions || (g.left = Math.round(g.left), g.top = Math.round(g.top)), e = {
                    left: g.left - h,
                    top: g.top - p
                }, t.each(["left", "top"], function(i, n) {
                    t.ui.position[f[i]] && t.ui.position[f[i]][n](g, {
                        targetWidth: a,
                        targetHeight: l,
                        elemWidth: s,
                        elemHeight: c,
                        collisionPosition: e,
                        collisionWidth: m,
                        collisionHeight: v,
                        offset: d,
                        my: r.my,
                        at: r.at
                    })
                }), t.fn.bgiframe && i.bgiframe(), i.offset(t.extend(g, {
                    using: r.using
                }))
            })
        }, t.ui.position = {
            fit: {
                left: function(e, i) {
                    var n = t(window),
                        o = i.collisionPosition.left + i.collisionWidth - n.width() - n.scrollLeft();
                    e.left = o > 0 ? e.left - o : Math.max(e.left - i.collisionPosition.left, e.left)
                },
                top: function(e, i) {
                    var n = t(window),
                        o = i.collisionPosition.top + i.collisionHeight - n.height() - n.scrollTop();
                    e.top = o > 0 ? e.top - o : Math.max(e.top - i.collisionPosition.top, e.top)
                }
            },
            flip: {
                left: function(e, i) {
                    if (i.at[0] !== n) {
                        var o = t(window),
                            s = i.collisionPosition.left + i.collisionWidth - o.width() - o.scrollLeft(),
                            r = "left" === i.my[0] ? -i.elemWidth : "right" === i.my[0] ? i.elemWidth : 0,
                            a = "left" === i.at[0] ? i.targetWidth : -i.targetWidth,
                            l = -2 * i.offset[0];
                        e.left += i.collisionPosition.left < 0 ? r + a + l : s > 0 ? r + a + l : 0
                    }
                },
                top: function(e, i) {
                    if (i.at[1] !== n) {
                        var o = t(window),
                            s = i.collisionPosition.top + i.collisionHeight - o.height() - o.scrollTop(),
                            r = "top" === i.my[1] ? -i.elemHeight : "bottom" === i.my[1] ? i.elemHeight : 0,
                            a = "top" === i.at[1] ? i.targetHeight : -i.targetHeight,
                            l = -2 * i.offset[1];
                        e.top += i.collisionPosition.top < 0 ? r + a + l : s > 0 ? r + a + l : 0
                    }
                }
            }
        }, t.offset.setOffset || (t.offset.setOffset = function(e, i) {
            /static/.test(t.curCSS(e, "position")) && (e.style.position = "relative");
            var n = t(e),
                o = n.offset(),
                s = parseInt(t.curCSS(e, "top", !0), 10) || 0,
                r = parseInt(t.curCSS(e, "left", !0), 10) || 0,
                a = {
                    top: i.top - o.top + s,
                    left: i.left - o.left + r
                };
            "using" in i ? i.using.call(e, a) : n.css(a)
        }, t.fn.offset = function(e) {
            var i = this[0];
            return i && i.ownerDocument ? e ? t.isFunction(e) ? this.each(function(i) {
                t(this).offset(e.call(this, i, t(this).offset()))
            }) : this.each(function() {
                t.offset.setOffset(this, e)
            }) : r.call(this) : null
        }), t.curCSS || (t.curCSS = t.css),
        function() {
            var e, i, n, s, r, a = document.getElementsByTagName("body")[0],
                l = document.createElement("div");
            e = document.createElement(a ? "div" : "body"), n = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            }, a && t.extend(n, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (var u in n) e.style[u] = n[u];
            e.appendChild(l), i = a || document.documentElement, i.insertBefore(e, i.firstChild), l.style.cssText = "position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;", s = t(l).offset(function(t, e) {
                return e
            }).offset(), e.innerHTML = "", i.removeChild(e), r = s.top + s.left + (a ? 2e3 : 0), o.fractions = r > 21 && 22 > r
        }()
}(jQuery),
function(t) {
    var e = 0;
    t.widget("ui.autocomplete", {
        options: {
            appendTo: "body",
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null
        },
        pending: 0,
        _create: function() {
            var e, i = this,
                n = this.element[0].ownerDocument;
            this.isMultiLine = this.element.is("textarea"), this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off").attr({
                role: "textbox",
                "aria-autocomplete": "list",
                "aria-haspopup": "true"
            }).bind("keydown.autocomplete", function(n) {
                if (!i.options.disabled && !i.element.propAttr("readOnly")) {
                    e = !1;
                    var o = t.ui.keyCode;
                    switch (n.keyCode) {
                        case o.PAGE_UP:
                            i._move("previousPage", n);
                            break;
                        case o.PAGE_DOWN:
                            i._move("nextPage", n);
                            break;
                        case o.UP:
                            i._keyEvent("previous", n);
                            break;
                        case o.DOWN:
                            i._keyEvent("next", n);
                            break;
                        case o.ENTER:
                        case o.NUMPAD_ENTER:
                            i.menu.active && (e = !0, n.preventDefault());
                        case o.TAB:
                            if (!i.menu.active) return;
                            i.menu.select(n);
                            break;
                        case o.ESCAPE:
                            i.element.val(i.term), i.close(n);
                            break;
                        default:
                            clearTimeout(i.searching), i.searching = setTimeout(function() {
                                i.term != i.element.val() && (i.selectedItem = null, i.search(null, n))
                            }, i.options.delay)
                    }
                }
            }).bind("keypress.autocomplete", function(t) {
                e && (e = !1, t.preventDefault())
            }).bind("focus.autocomplete", function() {
                i.options.disabled || (i.selectedItem = null, i.previous = i.element.val())
            }).bind("blur.autocomplete", function(t) {
                i.options.disabled || (clearTimeout(i.searching), i.closing = setTimeout(function() {
                    i.close(t), i._change(t)
                }, 150))
            }), this._initSource(), this.menu = t("<ul></ul>").addClass("ui-autocomplete").appendTo(t(this.options.appendTo || "body", n)[0]).mousedown(function(e) {
                var n = i.menu.element[0];
                t(e.target).closest(".ui-menu-item").length || setTimeout(function() {
                    t(document).one("mousedown", function(e) {
                        e.target !== i.element[0] && e.target !== n && !t.ui.contains(n, e.target) && i.close()
                    })
                }, 1), setTimeout(function() {
                    clearTimeout(i.closing)
                }, 13)
            }).menu({
                focus: function(t, e) {
                    var n = e.item.data("item.autocomplete");
                    !1 !== i._trigger("focus", t, {
                        item: n
                    }) && /^key/.test(t.originalEvent.type) && i.element.val(n.value)
                },
                selected: function(t, e) {
                    var o = e.item.data("item.autocomplete"),
                        s = i.previous;
                    i.element[0] !== n.activeElement && (i.element.focus(), i.previous = s, setTimeout(function() {
                        i.previous = s, i.selectedItem = o
                    }, 1)), !1 !== i._trigger("select", t, {
                        item: o
                    }) && i.element.val(o.value), i.term = i.element.val(), i.close(t), i.selectedItem = o
                },
                blur: function() {
                    i.menu.element.is(":visible") && i.element.val() !== i.term && i.element.val(i.term)
                }
            }).zIndex(this.element.zIndex() + 1).css({
                top: 0,
                left: 0
            }).hide().data("menu"), t.fn.bgiframe && this.menu.element.bgiframe(), i.beforeunloadHandler = function() {
                i.element.removeAttr("autocomplete")
            }, t(window).bind("beforeunload", i.beforeunloadHandler)
        },
        destroy: function() {
            this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"), this.menu.element.remove(), t(window).unbind("beforeunload", this.beforeunloadHandler), t.Widget.prototype.destroy.call(this)
        },
        _setOption: function(e, i) {
            t.Widget.prototype._setOption.apply(this, arguments), "source" === e && this._initSource(), "appendTo" === e && this.menu.element.appendTo(t(i || "body", this.element[0].ownerDocument)[0]), "disabled" === e && i && this.xhr && this.xhr.abort()
        },
        _initSource: function() {
            var e, i, n = this;
            t.isArray(this.options.source) ? (e = this.options.source, this.source = function(i, n) {
                n(t.ui.autocomplete.filter(e, i.term))
            }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function(e, o) {
                n.xhr && n.xhr.abort(), n.xhr = t.ajax({
                    url: i,
                    data: e,
                    dataType: "json",
                    success: function(t) {
                        o(t)
                    },
                    error: function() {
                        o([])
                    }
                })
            }) : this.source = this.options.source
        },
        search: function(t, e) {
            return t = null != t ? t : this.element.val(), this.term = this.element.val(), t.length < this.options.minLength ? this.close(e) : (clearTimeout(this.closing), this._trigger("search", e) !== !1 ? this._search(t) : void 0)
        },
        _search: function(t) {
            this.pending++, this.element.addClass("ui-autocomplete-loading"), this.source({
                term: t
            }, this._response())
        },
        _response: function() {
            var t = this,
                i = ++e;
            return function(n) {
                i === e && t.__response(n), t.pending--, t.pending || t.element.removeClass("ui-autocomplete-loading")
            }
        },
        __response: function(t) {
            !this.options.disabled && t && t.length ? (t = this._normalize(t), this._suggest(t), this._trigger("open")) : this.close()
        },
        close: function(t) {
            clearTimeout(this.closing), this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.deactivate(), this._trigger("close", t))
        },
        _change: function(t) {
            this.previous !== this.element.val() && this._trigger("change", t, {
                item: this.selectedItem
            })
        },
        _normalize: function(e) {
            return e.length && e[0].label && e[0].value ? e : t.map(e, function(e) {
                return "string" == typeof e ? {
                    label: e,
                    value: e
                } : t.extend({
                    label: e.label || e.value,
                    value: e.value || e.label
                }, e)
            })
        },
        _suggest: function(e) {
            var i = this.menu.element.empty().zIndex(this.element.zIndex() + 1);
            this._renderMenu(i, e), this.menu.deactivate(), this.menu.refresh(), i.show(), this._resizeMenu(), i.position(t.extend({ of: this.element
            }, this.options.position)), this.options.autoFocus && this.menu.next(new t.Event("mouseover"))
        },
        _resizeMenu: function() {
            var t = this.menu.element;
            t.outerWidth(Math.max(t.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function(e, i) {
            var n = this;
            t.each(i, function(t, i) {
                n._renderItem(e, i)
            })
        },
        _renderItem: function(e, i) {
            return t("<li></li>").data("item.autocomplete", i).append(t("<a></a>").text(i.label)).appendTo(e)
        },
        _move: function(t, e) {
            return this.menu.element.is(":visible") ? this.menu.first() && /^previous/.test(t) || this.menu.last() && /^next/.test(t) ? (this.element.val(this.term), this.menu.deactivate(), void 0) : (this.menu[t](e), void 0) : (this.search(null, e), void 0)
        },
        widget: function() {
            return this.menu.element
        },
        _keyEvent: function(t, e) {
            (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(t, e), e.preventDefault())
        }
    }), t.extend(t.ui.autocomplete, {
        escapeRegex: function(t) {
            return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
        },
        filter: function(e, i) {
            var n = new RegExp(t.ui.autocomplete.escapeRegex(i), "i");
            return t.grep(e, function(t) {
                return n.test(t.label || t.value || t)
            })
        }
    })
}(jQuery),
function(t) {
    t.widget("ui.menu", {
        _create: function() {
            var e = this;
            this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({
                role: "listbox",
                "aria-activedescendant": "ui-active-menuitem"
            }).click(function(i) {
                t(i.target).closest(".ui-menu-item a").length && (i.preventDefault(), e.select(i))
            }), this.refresh()
        },
        refresh: function() {
            var e = this,
                i = this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "menuitem");
            i.children("a").addClass("ui-corner-all").attr("tabindex", -1).mouseenter(function(i) {
                e.activate(i, t(this).parent())
            }).mouseleave(function() {
                e.deactivate()
            })
        },
        activate: function(t, e) {
            if (this.deactivate(), this.hasScroll()) {
                var i = e.offset().top - this.element.offset().top,
                    n = this.element.scrollTop(),
                    o = this.element.height();
                0 > i ? this.element.scrollTop(n + i) : i >= o && this.element.scrollTop(n + i - o + e.height())
            }
            this.active = e.eq(0).children("a").addClass("ui-state-hover").attr("id", "ui-active-menuitem").end(), this._trigger("focus", t, {
                item: e
            })
        },
        deactivate: function() {
            this.active && (this.active.children("a").removeClass("ui-state-hover").removeAttr("id"), this._trigger("blur"), this.active = null)
        },
        next: function(t) {
            this.move("next", ".ui-menu-item:first", t)
        },
        previous: function(t) {
            this.move("prev", ".ui-menu-item:last", t)
        },
        first: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        last: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        move: function(t, e, i) {
            if (!this.active) return this.activate(i, this.element.children(e)), void 0;
            var n = this.active[t + "All"](".ui-menu-item").eq(0);
            n.length ? this.activate(i, n) : this.activate(i, this.element.children(e))
        },
        nextPage: function(e) {
            if (this.hasScroll()) {
                if (!this.active || this.last()) return this.activate(e, this.element.children(".ui-menu-item:first")), void 0;
                var i = this.active.offset().top,
                    n = this.element.height(),
                    o = this.element.children(".ui-menu-item").filter(function() {
                        var e = t(this).offset().top - i - n + t(this).height();
                        return 10 > e && e > -10
                    });
                o.length || (o = this.element.children(".ui-menu-item:last")), this.activate(e, o)
            } else this.activate(e, this.element.children(".ui-menu-item").filter(!this.active || this.last() ? ":first" : ":last"))
        },
        previousPage: function(e) {
            if (this.hasScroll()) {
                if (!this.active || this.first()) return this.activate(e, this.element.children(".ui-menu-item:last")), void 0;
                var i = this.active.offset().top,
                    n = this.element.height(),
                    o = this.element.children(".ui-menu-item").filter(function() {
                        var e = t(this).offset().top - i + n - t(this).height();
                        return 10 > e && e > -10
                    });
                o.length || (o = this.element.children(".ui-menu-item:first")), this.activate(e, o)
            } else this.activate(e, this.element.children(".ui-menu-item").filter(!this.active || this.first() ? ":last" : ":first"))
        },
        hasScroll: function() {
            return this.element.height() < this.element[t.fn.prop ? "prop" : "attr"]("scrollHeight")
        },
        select: function(t) {
            this._trigger("selected", t, {
                item: this.active
            })
        }
    })
}(jQuery), Array.prototype.indexOf || (Array.prototype.indexOf = function(t) {
        var e = this.length >>> 0,
            i = Number(arguments[1]) || 0;
        for (i = 0 > i ? Math.ceil(i) : Math.floor(i), 0 > i && (i += e); e > i; i++)
            if (i in this && this[i] === t) return i;
        return -1
    }),
    function(t) {
        var e = {
                sort: !1,
                "sort-attr": "data-priority",
                "sort-desc": !1,
                autoselect: !0,
                "alternative-spellings": !0,
                "alternative-spellings-attr": "data-alternative-spellings",
                "remove-valueless-options": !0,
                "copy-attributes-to-text-field": !0,
                "autocomplete-plugin": "jquery_ui",
                "relevancy-sorting": !0,
                "relevancy-sorting-partial-match-value": 1,
                "relevancy-sorting-strict-match-value": 5,
                "relevancy-sorting-booster-attr": "data-relevancy-booster",
                handle_invalid_input: function(t) {
                    t.$text_field.val(t.$select_field.find("option:selected:first").text())
                },
                handle_select_field: function(t) {
                    return t.hide()
                },
                insert_text_field: function(i) {
                    var n = t("<input></input>");
                    if (e["copy-attributes-to-text-field"]) {
                        for (var o = {}, s = i.$select_field[0].attributes, r = 0; r < s.length; r++) {
                            var a = s[r].nodeName,
                                l = s[r].nodeValue;
                            "name" !== a && "id" !== a && "undefined" != typeof i.$select_field.attr(a) && (o[a] = l)
                        }
                        n.attr(o)
                    }
                    return n.blur(function() {
                        var o = i.$select_field.find("option").map(function(e, i) {
                            return t(i).text()
                        });
                        n.val() in o || "function" != typeof e.handle_invalid_input || e.handle_invalid_input(i)
                    }), i.settings.autoselect && n.click(function() {
                        this.select()
                    }), n.val(i.$select_field.find("option:selected:first").text()).insertAfter(i.$select_field)
                },
                extract_options: function(i) {
                    var n = [],
                        o = i.find("option"),
                        s = o.length;
                    return o.each(function() {
                        var i = t(this),
                            o = {
                                "real-value": i.attr("value"),
                                label: i.text()
                            };
                        if (e["remove-valueless-options"] && "" === o["real-value"]);
                        else {
                            o.matches = o.label;
                            var r = i.attr(e["alternative-spellings-attr"]);
                            if (r && (o.matches += " " + r), e.sort) {
                                var a = parseInt(i.attr(e["sort-attr"]), 10);
                                o.weight = a ? a : s
                            }
                            if (e["relevancy-sorting"]) {
                                o["relevancy-score"] = 0, o["relevancy-score-booster"] = 1;
                                var l = parseFloat(i.attr(e["relevancy-sorting-booster-attr"]));
                                l && (o["relevancy-score-booster"] = l)
                            }
                            n.push(o)
                        }
                    }), e.sort && (e["sort-desc"] ? n.sort(function(t, e) {
                        return e.weight - t.weight
                    }) : n.sort(function(t, e) {
                        return t.weight - e.weight
                    })), n
                }
            },
            i = {
                init: function(i) {
                    return t.browser.msie && parseInt(t.browser.version, 10) <= 6 ? this : (e = t.extend(e, i), this.each(function() {
                        var i = t(this),
                            o = {
                                $select_field: i,
                                options: e.extract_options(i),
                                settings: e
                            };
                        o.$flag = t('<span class="current-flag ui-flag"></span>').attr("data-country", o.$select_field.find("option:selected:first").attr("data-alternative-spellings")).insertAfter(o.$select_field), o.$text_field = e.insert_text_field(o), e.handle_select_field(i), "string" == typeof e["autocomplete-plugin"] ? n[e["autocomplete-plugin"]](o) : e["autocomplete-plugin"](o)
                    }))
                }
            },
            n = {
                jquery_ui: function(e) {
                    var i = function(i) {
                            for (var n = i.split(" "), o = [], s = 0; s < n.length; s++)
                                if (n[s].length > 0) {
                                    var r = {};
                                    r.partial = new RegExp(t.ui.autocomplete.escapeRegex(n[s]), "i"), e.settings["relevancy-sorting"] && (r.strict = new RegExp("^" + t.ui.autocomplete.escapeRegex(n[s]), "i")), o.push(r)
                                }
                            return t.grep(e.options, function(t) {
                                var n = 0;
                                if (e.settings["relevancy-sorting"]) var s = !1,
                                    r = t.matches.split(" ");
                                for (var a = 0; a < o.length; a++)
                                    if (o[a].partial.test(t.matches) && n++, e.settings["relevancy-sorting"])
                                        for (var l = 0; l < r.length; l++)
                                            if (o[a].strict.test(r[l])) {
                                                s = !0;
                                                break
                                            }
                                if (e.settings["relevancy-sorting"]) {
                                    var u = 0;
                                    u += n * e.settings["relevancy-sorting-partial-match-value"], s && (u += e.settings["relevancy-sorting-strict-match-value"]), u *= t["relevancy-score-booster"], t["relevancy-score"] = u
                                }
                                return !i || o.length === n
                            })
                        },
                        n = function(t) {
                            if (t) e.$select_field.val() !== t["real-value"] && (e.$select_field.val(t["real-value"]), e.$select_field.change(), e.$flag.attr("data-country", t.matches));
                            else {
                                for (var i = e.$text_field.val().toLowerCase(), n = {
                                        "real-value": !1
                                    }, o = 0; o < e.options.length; o++)
                                    if (i === e.options[o].label.toLowerCase()) {
                                        n = e.options[o];
                                        break
                                    }
                                e.$select_field.val() !== n["real-value"] && (e.$select_field.val(n["real-value"] || ""), e.$select_field.change()), n["real-value"] && e.$text_field.val(n.label), "function" == typeof e.settings.handle_invalid_input && "" === e.$select_field.val() && e.settings.handle_invalid_input(e)
                            }
                        };
                    e.$text_field.autocomplete({
                        minLength: 0,
                        delay: 0,
                        autoFocus: !0,
                        source: function(t, n) {
                            var o = i(t.term);
                            e.settings["relevancy-sorting"] && (o = o.sort(function(t, e) {
                                return e["relevancy-score"] - t["relevancy-score"]
                            })), n(o)
                        },
                        select: function(t, e) {
                            n(e.item)
                        },
                        change: function(t, e) {
                            n(e.item)
                        }
                    }).data("autocomplete")._renderItem = function(e, i) {
                        var n = t("<li>").data("item.autocomplete", i).append(t("<a>").text(i.label).attr("data-country", i.matches).addClass("ui-flag")).appendTo(e);
                        return n
                    }, e.$text_field.parents("form:first").submit(function() {
                        n()
                    }), n()
                }
            };
        t.fn.selectToAutocomplete = function(e) {
            return i[e] ? i[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? (t.error("Method " + e + " does not exist on jQuery.fn.selectToAutocomplete"), void 0) : i.init.apply(this, arguments)
        }
    }(jQuery);
(function(a) {
    if (typeof define === "function" && define.amd && define.amd.jQuery) {
        define(["jquery"], a)
    } else {
        a(jQuery)
    }
}(function(f) {
    var p = "left",
        o = "right",
        e = "up",
        x = "down",
        c = "in",
        z = "out",
        m = "none",
        s = "auto",
        l = "swipe",
        t = "pinch",
        A = "tap",
        j = "doubletap",
        b = "longtap",
        y = "hold",
        D = "horizontal",
        u = "vertical",
        i = "all",
        r = 10,
        g = "start",
        k = "move",
        h = "end",
        q = "cancel",
        a = "ontouchstart" in window,
        v = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled,
        d = window.navigator.pointerEnabled || window.navigator.msPointerEnabled,
        B = "TouchSwipe";
    var n = {
        fingers: 1,
        threshold: 75,
        cancelThreshold: null,
        pinchThreshold: 20,
        maxTimeThreshold: null,
        fingerReleaseThreshold: 250,
        longTapThreshold: 500,
        doubleTapThreshold: 200,
        swipe: null,
        swipeLeft: null,
        swipeRight: null,
        swipeUp: null,
        swipeDown: null,
        swipeStatus: null,
        pinchIn: null,
        pinchOut: null,
        pinchStatus: null,
        click: null,
        tap: null,
        doubleTap: null,
        longTap: null,
        hold: null,
        triggerOnTouchEnd: true,
        triggerOnTouchLeave: false,
        allowPageScroll: "auto",
        fallbackToMouseEvents: true,
        excludedElements: "label, button, input, select, textarea, a, .noSwipe"
    };
    f.fn.swipe = function(G) {
        var F = f(this),
            E = F.data(B);
        if (E && typeof G === "string") {
            if (E[G]) {
                return E[G].apply(this, Array.prototype.slice.call(arguments, 1))
            } else {
                f.error("Method " + G + " does not exist on jQuery.swipe")
            }
        } else {
            if (!E && (typeof G === "object" || !G)) {
                return w.apply(this, arguments)
            }
        }
        return F
    };
    f.fn.swipe.defaults = n;
    f.fn.swipe.phases = {
        PHASE_START: g,
        PHASE_MOVE: k,
        PHASE_END: h,
        PHASE_CANCEL: q
    };
    f.fn.swipe.directions = {
        LEFT: p,
        RIGHT: o,
        UP: e,
        DOWN: x,
        IN: c,
        OUT: z
    };
    f.fn.swipe.pageScroll = {
        NONE: m,
        HORIZONTAL: D,
        VERTICAL: u,
        AUTO: s
    };
    f.fn.swipe.fingers = {
        ONE: 1,
        TWO: 2,
        THREE: 3,
        ALL: i
    };

    function w(E) {
        if (E && (E.allowPageScroll === undefined && (E.swipe !== undefined || E.swipeStatus !== undefined))) {
            E.allowPageScroll = m
        }
        if (E.click !== undefined && E.tap === undefined) {
            E.tap = E.click
        }
        if (!E) {
            E = {}
        }
        E = f.extend({}, f.fn.swipe.defaults, E);
        return this.each(function() {
            var G = f(this);
            var F = G.data(B);
            if (!F) {
                F = new C(this, E);
                G.data(B, F)
            }
        })
    }

    function C(a4, av) {
        var az = (a || d || !av.fallbackToMouseEvents),
            J = az ? (d ? (v ? "MSPointerDown" : "pointerdown") : "touchstart") : "mousedown",
            ay = az ? (d ? (v ? "MSPointerMove" : "pointermove") : "touchmove") : "mousemove",
            U = az ? (d ? (v ? "MSPointerUp" : "pointerup") : "touchend") : "mouseup",
            S = az ? null : "mouseleave",
            aD = (d ? (v ? "MSPointerCancel" : "pointercancel") : "touchcancel");
        var ag = 0,
            aP = null,
            ab = 0,
            a1 = 0,
            aZ = 0,
            G = 1,
            aq = 0,
            aJ = 0,
            M = null;
        var aR = f(a4);
        var Z = "start";
        var W = 0;
        var aQ = null;
        var T = 0,
            a2 = 0,
            a5 = 0,
            ad = 0,
            N = 0;
        var aW = null,
            af = null;
        try {
            aR.bind(J, aN);
            aR.bind(aD, a9)
        } catch (ak) {
            f.error("events not supported " + J + "," + aD + " on jQuery.swipe")
        }
        this.enable = function() {
            aR.bind(J, aN);
            aR.bind(aD, a9);
            return aR
        };
        this.disable = function() {
            aK();
            return aR
        };
        this.destroy = function() {
            aK();
            aR.data(B, null);
            return aR
        };
        this.option = function(bc, bb) {
            if (av[bc] !== undefined) {
                if (bb === undefined) {
                    return av[bc]
                } else {
                    av[bc] = bb
                }
            } else {
                f.error("Option " + bc + " does not exist on jQuery.swipe.options")
            }
            return null
        };

        function aN(bd) {
            if (aB()) {
                return
            }
            if (f(bd.target).closest(av.excludedElements, aR).length > 0) {
                return
            }
            var be = bd.originalEvent ? bd.originalEvent : bd;
            var bc, bb = a ? be.touches[0] : be;
            Z = g;
            if (a) {
                W = be.touches.length
            } else {
                bd.preventDefault()
            }
            ag = 0;
            aP = null;
            aJ = null;
            ab = 0;
            a1 = 0;
            aZ = 0;
            G = 1;
            aq = 0;
            aQ = aj();
            M = aa();
            R();
            if (!a || (W === av.fingers || av.fingers === i) || aX()) {
                ai(0, bb);
                T = at();
                if (W == 2) {
                    ai(1, be.touches[1]);
                    a1 = aZ = au(aQ[0].start, aQ[1].start)
                }
                if (av.swipeStatus || av.pinchStatus) {
                    bc = O(be, Z)
                }
            } else {
                bc = false
            }
            if (bc === false) {
                Z = q;
                O(be, Z);
                return bc
            } else {
                if (av.hold) {
                    af = setTimeout(f.proxy(function() {
                        aR.trigger("hold", [be.target]);
                        if (av.hold) {
                            bc = av.hold.call(aR, be, be.target)
                        }
                    }, this), av.longTapThreshold)
                }
                ao(true)
            }
            return null
        }

        function a3(be) {
            var bh = be.originalEvent ? be.originalEvent : be;
            if (Z === h || Z === q || am()) {
                return
            }
            var bd, bc = a ? bh.touches[0] : bh;
            var bf = aH(bc);
            a2 = at();
            if (a) {
                W = bh.touches.length
            }
            if (av.hold) {
                clearTimeout(af)
            }
            Z = k;
            if (W == 2) {
                if (a1 == 0) {
                    ai(1, bh.touches[1]);
                    a1 = aZ = au(aQ[0].start, aQ[1].start)
                } else {
                    aH(bh.touches[1]);
                    aZ = au(aQ[0].end, aQ[1].end);
                    aJ = ar(aQ[0].end, aQ[1].end)
                }
                G = a7(a1, aZ);
                aq = Math.abs(a1 - aZ)
            }
            if ((W === av.fingers || av.fingers === i) || !a || aX()) {
                aP = aL(bf.start, bf.end);
                al(be, aP);
                ag = aS(bf.start, bf.end);
                ab = aM();
                aI(aP, ag);
                if (av.swipeStatus || av.pinchStatus) {
                    bd = O(bh, Z)
                }
                if (!av.triggerOnTouchEnd || av.triggerOnTouchLeave) {
                    var bb = true;
                    if (av.triggerOnTouchLeave) {
                        var bg = aY(this);
                        bb = E(bf.end, bg)
                    }
                    if (!av.triggerOnTouchEnd && bb) {
                        Z = aC(k)
                    } else {
                        if (av.triggerOnTouchLeave && !bb) {
                            Z = aC(h)
                        }
                    }
                    if (Z == q || Z == h) {
                        O(bh, Z)
                    }
                }
            } else {
                Z = q;
                O(bh, Z)
            }
            if (bd === false) {
                Z = q;
                O(bh, Z)
            }
        }

        function L(bb) {
            var bc = bb.originalEvent;
            if (a) {
                if (bc.touches.length > 0) {
                    F();
                    return true
                }
            }
            if (am()) {
                W = ad
            }
            a2 = at();
            ab = aM();
            if (ba() || !an()) {
                Z = q;
                O(bc, Z)
            } else {
                if (av.triggerOnTouchEnd || (av.triggerOnTouchEnd == false && Z === k)) {
                    bb.preventDefault();
                    Z = h;
                    O(bc, Z)
                } else {
                    if (!av.triggerOnTouchEnd && a6()) {
                        Z = h;
                        aF(bc, Z, A)
                    } else {
                        if (Z === k) {
                            Z = q;
                            O(bc, Z)
                        }
                    }
                }
            }
            ao(false);
            return null
        }

        function a9() {
            W = 0;
            a2 = 0;
            T = 0;
            a1 = 0;
            aZ = 0;
            G = 1;
            R();
            ao(false)
        }

        function K(bb) {
            var bc = bb.originalEvent;
            if (av.triggerOnTouchLeave) {
                Z = aC(h);
                O(bc, Z)
            }
        }

        function aK() {
            aR.unbind(J, aN);
            aR.unbind(aD, a9);
            aR.unbind(ay, a3);
            aR.unbind(U, L);
            if (S) {
                aR.unbind(S, K)
            }
            ao(false)
        }

        function aC(bf) {
            var be = bf;
            var bd = aA();
            var bc = an();
            var bb = ba();
            if (!bd || bb) {
                be = q
            } else {
                if (bc && bf == k && (!av.triggerOnTouchEnd || av.triggerOnTouchLeave)) {
                    be = h
                } else {
                    if (!bc && bf == h && av.triggerOnTouchLeave) {
                        be = q
                    }
                }
            }
            return be
        }

        function O(bd, bb) {
            var bc = undefined;
            if (I() || V()) {
                bc = aF(bd, bb, l)
            } else {
                if ((P() || aX()) && bc !== false) {
                    bc = aF(bd, bb, t)
                }
            }
            if (aG() && bc !== false) {
                bc = aF(bd, bb, j)
            } else {
                if (ap() && bc !== false) {
                    bc = aF(bd, bb, b)
                } else {
                    if (ah() && bc !== false) {
                        bc = aF(bd, bb, A)
                    }
                }
            }
            if (bb === q) {
                a9(bd)
            }
            if (bb === h) {
                if (a) {
                    if (bd.touches.length == 0) {
                        a9(bd)
                    }
                } else {
                    a9(bd)
                }
            }
            return bc
        }

        function aF(be, bb, bd) {
            var bc = undefined;
            if (bd == l) {
                aR.trigger("swipeStatus", [bb, aP || null, ag || 0, ab || 0, W, aQ]);
                if (av.swipeStatus) {
                    bc = av.swipeStatus.call(aR, be, bb, aP || null, ag || 0, ab || 0, W, aQ);
                    if (bc === false) {
                        return false
                    }
                }
                if (bb == h && aV()) {
                    aR.trigger("swipe", [aP, ag, ab, W, aQ]);
                    if (av.swipe) {
                        bc = av.swipe.call(aR, be, aP, ag, ab, W, aQ);
                        if (bc === false) {
                            return false
                        }
                    }
                    switch (aP) {
                        case p:
                            aR.trigger("swipeLeft", [aP, ag, ab, W, aQ]);
                            if (av.swipeLeft) {
                                bc = av.swipeLeft.call(aR, be, aP, ag, ab, W, aQ)
                            }
                            break;
                        case o:
                            aR.trigger("swipeRight", [aP, ag, ab, W, aQ]);
                            if (av.swipeRight) {
                                bc = av.swipeRight.call(aR, be, aP, ag, ab, W, aQ)
                            }
                            break;
                        case e:
                            aR.trigger("swipeUp", [aP, ag, ab, W, aQ]);
                            if (av.swipeUp) {
                                bc = av.swipeUp.call(aR, be, aP, ag, ab, W, aQ)
                            }
                            break;
                        case x:
                            aR.trigger("swipeDown", [aP, ag, ab, W, aQ]);
                            if (av.swipeDown) {
                                bc = av.swipeDown.call(aR, be, aP, ag, ab, W, aQ)
                            }
                            break
                    }
                }
            }
            if (bd == t) {
                aR.trigger("pinchStatus", [bb, aJ || null, aq || 0, ab || 0, W, G, aQ]);
                if (av.pinchStatus) {
                    bc = av.pinchStatus.call(aR, be, bb, aJ || null, aq || 0, ab || 0, W, G, aQ);
                    if (bc === false) {
                        return false
                    }
                }
                if (bb == h && a8()) {
                    switch (aJ) {
                        case c:
                            aR.trigger("pinchIn", [aJ || null, aq || 0, ab || 0, W, G, aQ]);
                            if (av.pinchIn) {
                                bc = av.pinchIn.call(aR, be, aJ || null, aq || 0, ab || 0, W, G, aQ)
                            }
                            break;
                        case z:
                            aR.trigger("pinchOut", [aJ || null, aq || 0, ab || 0, W, G, aQ]);
                            if (av.pinchOut) {
                                bc = av.pinchOut.call(aR, be, aJ || null, aq || 0, ab || 0, W, G, aQ)
                            }
                            break
                    }
                }
            }
            if (bd == A) {
                if (bb === q || bb === h) {
                    clearTimeout(aW);
                    clearTimeout(af);
                    if (Y() && !H()) {
                        N = at();
                        aW = setTimeout(f.proxy(function() {
                            N = null;
                            aR.trigger("tap", [be.target]);
                            if (av.tap) {
                                bc = av.tap.call(aR, be, be.target)
                            }
                        }, this), av.doubleTapThreshold)
                    } else {
                        N = null;
                        aR.trigger("tap", [be.target]);
                        if (av.tap) {
                            bc = av.tap.call(aR, be, be.target)
                        }
                    }
                }
            } else {
                if (bd == j) {
                    if (bb === q || bb === h) {
                        clearTimeout(aW);
                        N = null;
                        aR.trigger("doubletap", [be.target]);
                        if (av.doubleTap) {
                            bc = av.doubleTap.call(aR, be, be.target)
                        }
                    }
                } else {
                    if (bd == b) {
                        if (bb === q || bb === h) {
                            clearTimeout(aW);
                            N = null;
                            aR.trigger("longtap", [be.target]);
                            if (av.longTap) {
                                bc = av.longTap.call(aR, be, be.target)
                            }
                        }
                    }
                }
            }
            return bc
        }

        function an() {
            var bb = true;
            if (av.threshold !== null) {
                bb = ag >= av.threshold
            }
            return bb
        }

        function ba() {
            var bb = false;
            if (av.cancelThreshold !== null && aP !== null) {
                bb = (aT(aP) - ag) >= av.cancelThreshold
            }
            return bb
        }

        function ae() {
            if (av.pinchThreshold !== null) {
                return aq >= av.pinchThreshold
            }
            return true
        }

        function aA() {
            var bb;
            if (av.maxTimeThreshold) {
                if (ab >= av.maxTimeThreshold) {
                    bb = false
                } else {
                    bb = true
                }
            } else {
                bb = true
            }
            return bb
        }

        function al(bb, bc) {
            if (av.allowPageScroll === m || aX()) {
                bb.preventDefault()
            } else {
                var bd = av.allowPageScroll === s;
                switch (bc) {
                    case p:
                        if ((av.swipeLeft && bd) || (!bd && av.allowPageScroll != D)) {
                            bb.preventDefault()
                        }
                        break;
                    case o:
                        if ((av.swipeRight && bd) || (!bd && av.allowPageScroll != D)) {
                            bb.preventDefault()
                        }
                        break;
                    case e:
                        if ((av.swipeUp && bd) || (!bd && av.allowPageScroll != u)) {
                            bb.preventDefault()
                        }
                        break;
                    case x:
                        if ((av.swipeDown && bd) || (!bd && av.allowPageScroll != u)) {
                            bb.preventDefault()
                        }
                        break
                }
            }
        }

        function a8() {
            var bc = aO();
            var bb = X();
            var bd = ae();
            return bc && bb && bd
        }

        function aX() {
            return !!(av.pinchStatus || av.pinchIn || av.pinchOut)
        }

        function P() {
            return !!(a8() && aX())
        }

        function aV() {
            var be = aA();
            var bg = an();
            var bd = aO();
            var bb = X();
            var bc = ba();
            var bf = !bc && bb && bd && bg && be;
            return bf
        }

        function V() {
            return !!(av.swipe || av.swipeStatus || av.swipeLeft || av.swipeRight || av.swipeUp || av.swipeDown)
        }

        function I() {
            return !!(aV() && V())
        }

        function aO() {
            return ((W === av.fingers || av.fingers === i) || !a)
        }

        function X() {
            return aQ[0].end.x !== 0
        }

        function a6() {
            return !!(av.tap)
        }

        function Y() {
            return !!(av.doubleTap)
        }

        function aU() {
            return !!(av.longTap)
        }

        function Q() {
            if (N == null) {
                return false
            }
            var bb = at();
            return (Y() && ((bb - N) <= av.doubleTapThreshold))
        }

        function H() {
            return Q()
        }

        function ax() {
            return ((W === 1 || !a) && (isNaN(ag) || ag < av.threshold))
        }

        function a0() {
            return ((ab > av.longTapThreshold) && (ag < r))
        }

        function ah() {
            return !!(ax() && a6())
        }

        function aG() {
            return !!(Q() && Y())
        }

        function ap() {
            return !!(a0() && aU())
        }

        function F() {
            a5 = at();
            ad = event.touches.length + 1
        }

        function R() {
            a5 = 0;
            ad = 0
        }

        function am() {
            var bb = false;
            if (a5) {
                var bc = at() - a5;
                if (bc <= av.fingerReleaseThreshold) {
                    bb = true
                }
            }
            return bb
        }

        function aB() {
            return !!(aR.data(B + "_intouch") === true)
        }

        function ao(bb) {
            if (bb === true) {
                aR.bind(ay, a3);
                aR.bind(U, L);
                if (S) {
                    aR.bind(S, K)
                }
            } else {
                aR.unbind(ay, a3, false);
                aR.unbind(U, L, false);
                if (S) {
                    aR.unbind(S, K, false)
                }
            }
            aR.data(B + "_intouch", bb === true)
        }

        function ai(bc, bb) {
            var bd = bb.identifier !== undefined ? bb.identifier : 0;
            aQ[bc].identifier = bd;
            aQ[bc].start.x = aQ[bc].end.x = bb.pageX || bb.clientX;
            aQ[bc].start.y = aQ[bc].end.y = bb.pageY || bb.clientY;
            return aQ[bc]
        }

        function aH(bb) {
            var bd = bb.identifier !== undefined ? bb.identifier : 0;
            var bc = ac(bd);
            bc.end.x = bb.pageX || bb.clientX;
            bc.end.y = bb.pageY || bb.clientY;
            return bc
        }

        function ac(bc) {
            for (var bb = 0; bb < aQ.length; bb++) {
                if (aQ[bb].identifier == bc) {
                    return aQ[bb]
                }
            }
        }

        function aj() {
            var bb = [];
            for (var bc = 0; bc <= 5; bc++) {
                bb.push({
                    start: {
                        x: 0,
                        y: 0
                    },
                    end: {
                        x: 0,
                        y: 0
                    },
                    identifier: 0
                })
            }
            return bb
        }

        function aI(bb, bc) {
            bc = Math.max(bc, aT(bb));
            M[bb].distance = bc
        }

        function aT(bb) {
            if (M[bb]) {
                return M[bb].distance
            }
            return undefined
        }

        function aa() {
            var bb = {};
            bb[p] = aw(p);
            bb[o] = aw(o);
            bb[e] = aw(e);
            bb[x] = aw(x);
            return bb
        }

        function aw(bb) {
            return {
                direction: bb,
                distance: 0
            }
        }

        function aM() {
            return a2 - T
        }

        function au(be, bd) {
            var bc = Math.abs(be.x - bd.x);
            var bb = Math.abs(be.y - bd.y);
            return Math.round(Math.sqrt(bc * bc + bb * bb))
        }

        function a7(bb, bc) {
            var bd = (bc / bb) * 1;
            return bd.toFixed(2)
        }

        function ar() {
            if (G < 1) {
                return z
            } else {
                return c
            }
        }

        function aS(bc, bb) {
            return Math.round(Math.sqrt(Math.pow(bb.x - bc.x, 2) + Math.pow(bb.y - bc.y, 2)))
        }

        function aE(be, bc) {
            var bb = be.x - bc.x;
            var bg = bc.y - be.y;
            var bd = Math.atan2(bg, bb);
            var bf = Math.round(bd * 180 / Math.PI);
            if (bf < 0) {
                bf = 360 - Math.abs(bf)
            }
            return bf
        }

        function aL(bc, bb) {
            var bd = aE(bc, bb);
            if ((bd <= 45) && (bd >= 0)) {
                return p
            } else {
                if ((bd <= 360) && (bd >= 315)) {
                    return p
                } else {
                    if ((bd >= 135) && (bd <= 225)) {
                        return o
                    } else {
                        if ((bd > 45) && (bd < 135)) {
                            return x
                        } else {
                            return e
                        }
                    }
                }
            }
        }

        function at() {
            var bb = new Date();
            return bb.getTime()
        }

        function aY(bb) {
            bb = f(bb);
            var bd = bb.offset();
            var bc = {
                left: bd.left,
                right: bd.left + bb.outerWidth(),
                top: bd.top,
                bottom: bd.top + bb.outerHeight()
            };
            return bc
        }

        function E(bb, bc) {
            return (bb.x > bc.left && bb.x < bc.right && bb.y > bc.top && bb.y < bc.bottom)
        }
    }
}));
if ($.browser.device) {
    var swipeable = [];
    $(".swipeable").length && ($(".swipeable").click(function() {
        $(this).removeClass("on"), setTimeout(function() {
            $(obj).removeClass("swipeable")
        }, 2e3)
    }), $.fn.isOnScreen = function() {
        if ($(this).hasClass("swipeable")) {
            var t = $(window),
                e = {
                    top: t.scrollTop(),
                    left: t.scrollLeft()
                };
            e.right = e.left + t.width(), e.bottom = e.top + t.height();
            var o = this.offset();
            o.right = o.left + this.outerWidth(), o.bottom = o.top + this.outerHeight();
            var i = this.outerHeight() / 3;
            return !(e.right < o.left || e.left > o.right || e.bottom < o.top + i || e.top > o.bottom - i)
        }
        return !1
    }, $(".swipeable").each(function() {
        obj = $(this), $(this).addClass("on"), $(window).scroll(function() {
            if ($(obj).isOnScreen()) {
                var t = $(obj).attr("class") + $(obj).html().length;
                swipeable[t] || (swipeable.push(t), setTimeout(function() {
                    $(obj).removeClass("on")
                }, 2e3), setTimeout(function() {
                    $(obj).removeClass("swipeable")
                }, 2500))
            }
        })
    }))
}! function(e) {
    e.expandbox = function(n, t) {
        function a() {
            e("body, html").stop(), g && clearTimeout(g)
        }
        var o, i, d, s, r, l, p, c, h, m, u, f, g, x, v = 0,
            P = 0,
            C = 0,
            b = 0,
            w = 0,
            H = {
                closedHeight: 0,
                height: v
            },
            T = 1;
        e.browser.device && (e(window).width() < "1024" && (T = 2), e(window).width() < "768" && (T = 3));
        var y = this;
        y.settings = {};
        var M = function() {
                y.settings = e.extend({}, H, t), y.el = n, o = y.el, i = y.settings.height, d = Math.round(y.settings.colmns / T), b = y.settings.topPad, x = "body", brwsr = readCookie("mp_browser"), "undefined" != typeof brwsr && brwsr && "safari" != brwsr && "chrome" != brwsr && (x = "html"), k()
            },
            k = function() {
                s && e(s).find(".btn-close").click(), e(".expander").css("position", "relative"), e(n).hasClass("expandBox-holder") || e(n).addClass("expandBox-holder"), c = e(n).children().length, p = e(n).children().filter(function() {
                    return !e(this).hasClass("holder")
                }), m = p.length, h = parseInt(c - m);
                for (var t = 0; 1 > m && 50 > t;) p = p.children(), m = p.length, t++;
                f = e(n).index();
                var a = e(n + " " + e(p).prop("tagName") + ":eq(0)");
                u = Math.round(e(a).parent().width() / (e(a).parent().width() / d)), e(".expandBox-holder .holder").length < 1 && e(n).append('<li class="holder"><ul></ul><div class="expander"></div></li>'), middleBox = Math.ceil(d / 2);
                for (var o = 0; o < p.length; o) middleBox == o && (e(p[o]).addClass("mid"), middleBox += d), e(p[o]).appendTo(e(n + " .holder >ul:eq(" + w + ")")), o % u == u - 1 && (e(n + " .holder").append('<ul></ul><div class="expander"></div>'), w++), o++;
                e(p).click(function(t) {
                    if (e(this).attr("data-link")) return window.location.href = e(this).attr("data-link"), void 0;
                    t.preventDefault(), e(p).removeClass("animate"), e(n).removeClass("expanded"), setHomepageModH(), e("li.selected").addClass("animate"), e(p).parent().find("li").removeClass("selected"), e(this).addClass("selected"), r = e(this).index() + "" + e(this).parent().index() + ".strng", s = e(this).parent().next(), e(s).find("article") && (e(s).find("article").removeClass("on"), e(s).find("article").addClass("old")), e(s).append(e(this).find("article").clone());
                    var a = e(this);
                    return e(s).find(".btn-close").click(function(n) {
                        n.preventDefault(), e(a).click(), setHomepageModH()
                    }), B(s), !1
                }), e(p).mouseover(function(n) {
                    for (n.preventDefault(), expandboxParent = e(this).parent(); e(expandboxParent).children() < 1;) expandboxParent = e(expandboxParent).parent();
                    P = 0, C = 0;
                    var t = e(expandboxParent).position();
                    t && (P = t.left, C = t.top)
                })
            };
        setHomepageModH = function() {
            e(".home-page .companies-using") && (minH = e(".home-page .companies-using .content").height(), e(".home-page .companies-using").css("min-height", minH), setTimeout(function() {
                minH = e(".home-page .companies-using .content").height(), e(".home-page .companies-using").css("min-height", minH)
            }, 1e3))
        };
        var B = function(t) {
            if (l = 0, openPane && e(openPane).index() == e(t).index() || (e(openPane).removeClass("open"), oldPane = e(openPane).index(), oldPaneH = parseInt(e(openPane).css("height")), e(openPane).css("height", 0), e(t).addClass("open"), e(n).addClass("expanded"), e("body").addClass("expanded"), e(t).find("article") && e(t).css("height", e(t).find("article").height()), openPane = t, oldPane < e(t).index() && oldPaneH && (l = oldPaneH), e(".home-page").length ? updatePaneContent(t) : g = setTimeout(function() {
                    e(x).animate({
                        scrollTop: pos.top - l - b
                    }, 1e3, function() {
                        updatePaneContent(t)
                    }), clearTimeout(g)
                }, 500)), oldTargetDiv == r) e(".expander .old").remove(), e(openPane).removeClass("open"), e(openPane).empty(), e(n).find("li").removeClass("selected"), oldTargetDiv = !1, openPane = !1, l = e(expandboxParent).height(), setHomepageModH();
            else {
                e(n).addClass("expanded"), e("body").addClass("expanded");
                var a = setTimeout(function() {
                    e(".expander .old").remove(), e(t).find("article") && e(t).css("height", e(t).find("article").height()), e(t).find("article").addClass("on"), e(".home-page").length ? updatePaneContent(t) : g = setTimeout(function() {
                        e(x).animate({
                            scrollTop: pos.top - l - b
                        }, 1e3, function() {
                            updatePaneContent(t)
                        }), clearTimeout(g)
                    }, 500), e(".share").length, clearTimeout(a)
                }, 0);
                oldTargetDiv = r
            }
            pos = e(t).offset()
        };
        this.updateExpandBox = function() {
            k(r)
        }, updatePaneContent = function(n) {
            setHomepageModH();
            var t = e(n).find("img.app"),
                a = e(n).find("img.shadow");
            e(a).attr("src", e(a).attr("data-shadow")), setTimeout(function() {
                e(t).attr("src", e(t).attr("data-img")), e(t).on("load", function() {
                    e(n).find(".device").css("background", "none"), e(t).animate({
                        opacity: 1
                    }, 300)
                }), setTimeout(function() {
                    "1" != e(t).css("opacity") && (e(n).find(".device").css("background", "none"), e(t).animate({
                        opacity: 1
                    }, 3e3))
                }, 1e3)
            }, 1e3)
        }, document.addEventListener ? (document.addEventListener("mousewheel", a, !1), document.addEventListener("DOMMouseScroll", a, !1)) : document.attachEvent("onmousewheel", a), M()
    }
}(jQuery);
$.magcarousel = function(e, a) {
    var t, s, l, i, n, c, o, r, m = 1,
        h = 0,
        d = 0,
        v = {},
        g = this;
    g.settings = {};
    var u = function() {
            g.settings = $.extend({}, v, a), g.el = e, i = g.settings.bottomPadding, g.settings.navOffset && (d += g.settings.navOffset), target = g.el, l = $(".carcl-slides>li").length, o = $(".carcl-nav").height(), $(e + " a.back").click(function(e) {
                e.preventDefault(), $("body").addClass("anim"), m--, C("b")
            }), $(e + " a.next").click(function(e) {
                e.preventDefault(), $("body").addClass("anim"), m++, C("n")
            }), $(".carcl-nav ul li").click(function(a) {
                a.preventDefault(), $("body").addClass("anim"), m = $(this).index() + (d + 1), $(e).addClass("view"), $(e).removeClass("hover"), $(".mantle").addClass("showCarousel"), (navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/iPad/i)) && ($("body").scrollTop($("#header_wrap").height()), $(".mantle").height($(window).height())), C()
            }), $(e + " .closer").click(function(a) {
                a.preventDefault(), $(e).removeClass("view"), r = !0, clearHover = setTimeout(function() {
                    r = !1, m = 1, $(".mantle").removeClass("showCarousel"), C(), clearTimeout(clearHover), $(window).resize()
                }, 500)
            }), $(e).click(function() {
                $(e).removeClass("hover")
            }), $(e).hover(function() {
                $(e).hasClass("view") || r || $(e).addClass("hover")
            }), $(e).mouseleave(function() {
                $(e).removeClass("hover")
            }), $(".landingpage-wrapper ").click(function(e) {
                e.preventDefault();
                $(this).offset();
                m = 1, C()
            });
            var t = 0;
            navCnt = $(".carcl-nav li").length, itemWidth = $(".carcl-container").width() / navCnt, $.each($(".carcl-nav li"), function() {
                $(".carcl-nav li:eq(" + t + ")").css("width", itemWidth), t++
            }), $(".home " + e + " .closer").click(), $(".home .mantle").removeClass("showCarousel"), f(), C()
        },
        f = function() {
            t = $(window).width(), s = $(window).height(), $(".carcl-slides").width(t * l), $(".carcl-slides>li").width(t), $(".mantle .floater").length && $(".mantle .floater").css("padding-bottom", $(".carcl-nav").height());
            $(g.el).offset();
            $(g.el).css("width", t);
            for (var e = 0; l > e; e++) $(".carcl-slides>li:nth-child(" + (e + 1) + ")").css("left", t * e);
            n = $(g.el).height() - o, c = 1, $(".carcl-slides>li").height(n), 1 > c ? $(g.el + " ul .carcl-container").css("zoom", c).css("-moz-transform", "scale(" + c + ")") : $("ul .carcl-container").css("zoom", 1), $.each($(".carcl-slides>li"), function() {
                var e = $(this).find(".carcl-column-l").height();
                $(this).css("margin-top", 0 - e / 2 - o), e > h && (h = e)
            }), C()
        },
        C = function(e) {
            e && ("b" == e && d + 1 >= m && (m = d + 1), "n" == e && m >= l && (m = l)), scrollTime = 10, $(".anim .holder > div.on").length && (scrollTime = 1e3), setTimeout(function() {
                $(".carcl-slides").css("left", 0 - t * (m - 1))
            }, scrollTime), p(m)
        },
        w = function() {
            var e, a, l, i;
            t > s ? (e = t, a = "auto", i = "w") : (e = "auto", a = s, margin = "auto", i = "h"), $(".carcl-feat-image").css("width", e).css("height", a).css("margin", a), "w" == i ? (l = $(".carcl-feat-image").height() / 2, $(".carcl-feat-image").css("margin-top", 0 - l).css("top", "50%")) : $(".carcl-feat-image").css("margin", 0).css("margin-right", 0).css("margin-left", 0).css("top", "0")
        },
        p = function(a) {
            var t = a - d;
            t && ($(".carcl-nav li").removeClass("on"), $(".carcl-nav ul>li:nth-child(" + t + ")").addClass("on"), $(".page-template-template-landingpage-2-php").length && _gaq.push(["_trackEvent", "Home Carousel", "View Slide", $(".carcl-nav .on a").html()]), $(".carcl-feat-image").length && ($(".anim .carcl-feat-image").removeClass("on"), setTimeout(function() {
                $(".carcl-feat-image." + $(".carcl-nav .on").attr("data-title")).addClass("on")
            }, 1e3)), $(".anim .carcl-slides li").removeClass("on"), $(".anim .carcl-slides > li:nth-child(" + a + ")").addClass("on"), d + 1 >= t ? ($(e + " a.next").removeClass("mute"), $(e + " a.back").addClass("mute")) : t >= l - d ? ($(e + " a.back").removeClass("mute"), $(e + " a.next").addClass("mute")) : $(e + " a").removeClass("mute"), w())
        };
    $(window).resize(function() {
        $("body").removeClass("anim"), f()
    }), u()
};
var expandboxParent, openPane, oldPane, oldPaneH, oldTargetDiv;
$(function() {
    function e() {
        function e(e) {
            el = "expandBox" + n, e = e, $("#clients-list").append(e), "undefined" == typeof clmns && (clmns = "4"), a ? a.updateExpandBox() : (a = !0, a = new $.expandbox("." + el, {
                adjustable: !0,
                colmns: clmns,
                topPad: 60
            })), n >= numOfPosts ? $(".load-more").remove() : $(".load-more").removeClass("loading");
            $("." + el).position();
            $(".expandBox-holder .holder  .client-item:last-child .client-img img ").load(function() {
                console.log("loaded"), $("." + el).removeClass("fade"), $(window).resize()
            }), n++
        }
        "undefined" != typeof sort || sort || (sort = ""), "undefined" != typeof customer_uses && customer_uses ? (dirPath = "software-uses-results", usecase = sort ? "&" : "?", usecase += "usecases=" + customer_uses) : (dirPath = "clients", usecase = "", $("#main-menu li:eq(0)").hasClass("current-menu-item") || $("#main-menu li:eq(0)").addClass("current-menu-item")), "undefined" != typeof datalink && datalink ? (datalink = sort || usecase ? "&" : "?", datalink += "datalink=1") : datalink = "", "undefined" != typeof uncache && uncache ? (uncache = sort || usecase || datalink ? "&" : "?", uncache += "uncache=1") : uncache = "", $.get("/client/page/" + n + sort + usecase + datalink + uncache, function(t) {
            e(t)
        }), $(".load-more").html("<span>Load page " + (n + 1) + " of " + numOfPosts + "</span>")
    }

    function t() {
        n = 1, $("#clients-list").empty(), a = !1, e()
    }
    $ = jQuery;
    var a, n = 1;
    $("#clients-list").length && ($("#subNav li a").click(function(t) {
        t.preventDefault();
        var a;
        a = $(this).attr("data-taxname") ? "/clients/?filter=" + $(this).attr("data-taxname") : "/clients/", window.location.href = a, e()
    }), $(".load-more").click(function(t) {
        t.preventDefault(), $(this).addClass("loading"), e()
    }), $.each($("#subNav li a"), function() {
        "?filter=" + $(this).attr("data-taxname") == sort && (sort = "?filter=" + $(this).attr("data-taxid"), $(".clients >h1").after("<h2>" + $(this).html() + "</h2>"))
    }), ("undefined" == typeof sort && sort || "" == sort) && $("#subNav .wrapper li:eq(0)").addClass("current-menu-item"), $(".load-more").click(), window.addEventListener("orientationchange", t)), "undefined" != typeof dirPath && dirPath && (addThisBtn = function() {
        var e = $(".client-item.selected h2").text(),
            t = $(".client-item.selected .btn-more").attr("href");
        $(".expander.open .on .share").append('<div class="addthis_toolbox addthis_default_style" addthis:url="' + t + '" addthis:title="' + e + '"><div class="custom_images"><a class="addthis_button_more"></a></div></div>'), addthis.init(), addthis.toolbox(".addthis_toolbox")
    })
});

function setNavState() {
    "1" == readCookie("mp_loggedin") ? ($("nav .login").remove(), $("nav .signup").remove()) : ($("nav .mymag").remove(), $("nav .logout").remove()), $(".auth-nav").css("display", "block")
}

function checkFooter(e) {
    var a;
    $("footer.static").length > 0 && $("footer.static").removeClass("static"), $(".showCarousel").length || $(".home.page").length ? $(".holder.content").css("padding-bottom", footerBarHeight) : $("body").css("padding-bottom", footerBarHeight), (!setMoreInfoClick || e) && (setMoreInfoClick = !0, $("footer .more-info").click(function() {
        focusSet ? (focusSet = !1, $("footer").removeClass("focus")) : (focusSet = !0, $("footer").addClass("focus"))
    })), $("footer").mouseleave(function() {
        focusSet = !1, $(this).removeClass("focus"), clearTimeout(a)
    })
}

function showHeader() {
    $("#header_wrap.ease").length || $("#header_wrap").addClass("ease"), $("#header_wrap").addClass("show")
}

function hideHeader() {
    $("#header_wrap").removeClass("show")
}

function makeStatic() {
    $("#header_wrap").addClass("static"), $("body > .container").css("margin-top", $("#header_wrap").height())
}

function makeKenetic() {
    $("#header_wrap").removeClass("static"), $("body > .container").css("margin-top", 0)
}

function initMantle() {
    imgW = $(mantleBg).width(), imgH = $(mantleBg).height(), ratio = 100 * imgH / imgW, $(window).resize(), showbg = setTimeout(function() {
        $(".bgimage").css("opacity", 1), clearTimeout(showbg)
    }, 500)
}
var setMoreInfoClick, focusSet, footerBarHeight;
setNavState(), $(".more-links ul.links").click(function() {
    $(this).hasClass("expand") ? $(this).removeClass("expand") : $(this).addClass("expand")
}), $("#primaryNav .menu-item-has-children").length && $("#primaryNav .menu-item-has-children").click(function() {
    $("#primaryNav .menu-item-has-children.hover").length || ($(this).addClass("hover"), setTimeout(function() {
        $("#primaryNav .menu-item-has-children.hover").removeClass("hover"), $("#primaryNav").click(), $("#primaryNav .menu-item-has-children").trigger("mouseout")
    }, 4e3))
});
var imgW, imgH, ratio;
footerBarHeight = getFooterHeight();
var minHeight = parseInt($(".mantle").css("min-height")),
    borders = 2 * parseInt($(".mantle").css("border-top-width"));
$("footer .buttons .download").click(function() {
    gqloc = window.location.pathname, _gaq.push(["_trackEvent", "Footer Buttons", "Download", gqloc])
}), $("footer .buttons .contact").click(function() {
    gqloc = window.location.pathname, _gaq.push(["_trackEvent", "Footer Buttons", "Contact Us", gqloc])
}), $("#header_wrap header #main-menu.menu .menu-item-has-children > a").click(function() {
    return !1
}), ($("#header_wrap #subNav").length || $("#header_wrap .carcl-nav").length) && $("#main-menu").addClass("delta"), checkFooter();
var oldScroll = 0;
$(window).scroll(function() {
    {
        var e = $("body.view .features .carousel").height(),
            a = $(".view .features").length;
        $("#header_wrap").height(), ($("#header_wrap").height() + e) * a
    }
    $("#header_wrap").hasClass("ignore") || $.browser.device || ($(window).scrollTop() < $("#header_wrap").height() ? $("#header_wrap").hasClass("show") ? $(window).scrollTop() <= 1 && (makeKenetic(), hideHeader()) : (makeKenetic(), hideHeader()) : (makeStatic(), $(window).scrollTop() < oldScroll ? showHeader() : hideHeader()), $(window).scrollTop() < 1 && $("#header_wrap").removeClass("ease")), oldScroll = $(window).scrollTop()
});
var mantle = ".home .mantle, .home .infoGraphic, .home .companies-using",
    mantleBg = ".home .mantle .bg-image, .home .bgimage";
$(window).resize(function() {
    if ($(mantle).length)
        if (ratio) {
            footerBarHeight = getFooterHeight() ? getFooterHeight() : 0;
            var e;
            e = $.browser.device ? $(window).height() : $(window).height() - $("#header_wrap").height() - parseInt(footerBarHeight) - borders, minHeight > e && (e = minHeight), $(".home .mantle").css("height", e), $.browser.device ? $(".home .infoGraphic, .home .companies-using").css("height", e) : $(".home .infoGraphic, .home .companies-using").css("height", e + $("#header_wrap").height()), mantleRatio = 100 * $(mantle).height() / $(mantle).width(), ratio > mantleRatio ? ($(mantleBg).addClass("wide"), $(mantleBg).removeClass("tall")) : ($(mantleBg).removeClass("wide"), $(mantleBg).addClass("tall")), 0 == $(mantle).css("opacity") && $(mantle).css("opacity", 1)
        } else initMantle();
    checkFooter()
}), $(mantle).length ? ($(mantleBg).on("load", function() {
    initMantle()
}), showMantle = setTimeout(function() {
    $(mantle).css("opacity", 1), $(window).resize(), clearTimeout(showMantle)
}, 1e3)) : $(window).resize();

function sizeIframe() {
    $(".page-id-3270 #colorbox iframe").length ? ($(".page-id-3270").length > 0 && $(".page-id-3270 #colorbox iframe").load(function() {
        var e = $(".page-id-3270 #colorbox iframe").contents().find("body").height() + 20;
        $.colorbox.resize({
            width: $("#colorbox").width,
            height: e
        })
    }), clearTimeout(checkForLoad)) : checkForLoad = setTimeout(function() {
        sizeIframe()
    }, 1e3)
}
if ($(".home.page.page-id-21").length && (carousel1 = new $.magcarousel(".carousel", {
        bottomPadding: 100,
        navOffset: 1
    }), $(".carcl-slides").swipe({
        swipeLeft: function() {
            $(".carousel a.next").click()
        },
        swipeRight: function() {
            $(".carousel  a.back").click()
        }
    })), $(".addthis_toolbox").length && (addthis.init(), addthis.toolbox(".addthis_toolbox")), $(".comparisonChart").length) {
    var oldli;
    $(".comparisonChart li h5").click(function(e) {
        e.preventDefault();
        var t = $(this).closest("ul").index() + "" + $(this).parent().index();
        $(".comparisonChart ul").removeClass("on"), $(".comparisonChart ul li").removeClass("on"), oldli !== t ? ($(this).parent().addClass("on"), $(this).closest("ul").addClass("on"), oldli = t) : oldli = !1
    }), $(".comparisonChart li h5").each(function() {
        var e = '<em class="included"></em>';
        $(this).parent().prepend(e)
    })
}
var $window = $(window),
    $document = $(document);
if ($(".mag-customselect").selectToAutocomplete(), $("#show_search").click(function() {
        return $("#searchform").toggleClass("hidden"), $("#s").focus(), !1
    }), $(".signup-user-type").change(function() {
        $(".signup-type").addClass("hidden"), $(".signup-" + $(this).val()).removeClass("hidden")
    }), $(".expand-row, .expand-next").click(function() {
        $(this).hasClass("more-link") ? $(this).toggleClass("t-desc-open").closest("table").next().stop(!0, !0).slideToggle(400) : $(this).toggleClass("t-desc-open").find(".t-description").stop(!0, !0).slideToggle(200)
    }), $(".t-description").click(function() {
        return !1
    }), $("#resend_magplus_activation_email").click(function() {
        return $.ajax({
            url: psVar.ajaxurl,
            type: "post",
            data: "action=resend_activation_mail",
            success: function() {}
        }), !1
    }), $(".single-clients").length && ($("#subNav li a").click(function(e) {
        e.preventDefault();
        var t;
        t = $(this).attr("data-taxname") ? "/clients/?filter=" + $(this).attr("data-taxname") : "/clients/", window.location.href = t, loadMoreClients()
    }), $("#subNav li a").click(function(e) {
        e.preventDefault();
        var t;
        t = $(this).attr("data-taxname") ? "/clients/?filter=" + $(this).attr("data-taxname") : "/clients/", window.location.href = t, loadMoreClients()
    })), $(".black-box-placeholder").css({
        height: $(".black-box-placeholder").height() + "px"
    }), $(".black-box .primary-button:first").length > 0) {
    var window_top, buttons_pos = $(".black-box .primary-button:first").offset(),
        is_under = !1;
    $window.scroll(function() {
        window_top = $document.scrollTop(), window_top > buttons_pos.top ? is_under || ($(".black-box-wrap").addClass("block-fixed"), is_under = !0) : is_under && ($(".black-box-wrap").removeClass("block-fixed"), is_under = !1)
    })
}
$(".ps-analytics").click(function() {
    var e = $(this).attr("title");
    _gaq.push(["_trackEvent", "CustomTracking", e])
}), $(".social-link").click(function() {
    var e = $(this).find("img").attr("alt");
    _gaq.push(["_trackEvent", "socialLinks", e])
}), $(".social-link").click(function() {
    var e = $(this),
        t = 750,
        a = 550,
        o = e.attr("data-height"),
        i = e.attr("data-width"),
        n = screen.height,
        r = screen.width,
        s = (Math.round(r / 2 - i / 2), 0);
    return n > o && (s = Math.round(n / 2 - o / 2)), 100 > i && (i = t), 100 > o && (o = a), !1
}), $(document).delegate(".facebook-share", "click", function() {
    var e = $(this),
        t = e.attr("data-name"),
        a = e.attr("href"),
        o = e.attr("data-picture"),
        i = e.attr("data-caption"),
        n = e.attr("data-description"),
        r = e.attr("data-track");
    return FB.ui({
        method: "feed",
        name: t,
        link: a,
        picture: o,
        caption: i,
        description: n
    }, function(e) {
        e && e.post_id && _gaq.push(["_trackEvent", "mag-custom", r])
    }), !1
}), $(".what-is-tour-wrap a.secondary-button ").click(function() {
    _gaq.push(["_trackEvent", "Video", "Play", "Mag+ Tour"])
}), $("#footer_nav").find(".disable-link > a").click(__return_false()), $(".open-by-href").click(function() {
    return $($(this).attr("href")).removeClass("hidden"), !1
}), $(".colorbox").colorbox(), $(".colorbox-inline, .colorbox-inline-menu a").colorbox({
    inline: !0,
    href: $(this).attr("href")
}), $(".colorbox-iframe").colorbox({
    iframe: !0,
    width: "100%",
    height: "100%",
    maxWidth: 900,
    maxHeight: 506
}), $(".open-window").click(function() {
    var e = 600,
        t = 600,
        a = screen.height,
        o = screen.width,
        i = Math.round(o / 2 - e / 2),
        n = Math.round(a / 2 - t / 2),
        r = $(this).attr("data-param");
    return window.open($(this).attr("href") + r, "magup", "scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=" + e + ",height=" + t + ",left=" + i + ",top=" + n), !1
}), $(".frame-cf").length > 0 && $(".frame-cf").load(function() {
    $(".frame-cf").height($(".frame-cf").contents().find("body").height() + 20), $(".salesforce-loading-form").remove()
});
var iW, iH, scrlg;
$.browser.device ? (iW = screen.width - 15, iH = screen.height - 15, scrlg = !0) : (iW = 820, iH = 480, scrlg = !1), $(".buy-form-button").colorbox({
    iframe: !0,
    innerWidth: iW,
    innerHeight: iH,
    scrolling: scrlg,
    onComplete: function() {
        sizeIframe()
    }
});
var magplus_buy_loading = function() {
    var e = "no";
    return function(t) {
        return (t = t || !1) ? "no" == e ? !1 : !0 : ("no" != e ? (e = "no", $("#buy_loader").hide()) : (e = "yes", $("#buy_loader").show()), void 0)
    }
}();
$("#content.pricing").length && $(".buy-form-button").click(function() {
    var e = $(this).attr("data-id");
    document.cookie = "buytype=" + e.toLowerCase() + "; ;path=/salesforce-buy-form-thanks", document.cookie = "buytype=" + e.toLowerCase() + "; ;path=/salesforce-buy-form", $("#sf_Lead_Event_Origin__c").val("Buy " + e)
}), $(".isMobile .pricing-mobile-nav").length && $(".pricing-mobile-nav li").click(function() {
    $(".pricing-mobile-nav li").removeClass("on"), $(".package").removeClass("on"), $(this).addClass("on"), $(".package." + $(this).attr("data-pkg")).addClass("on")
}), $("#buy_form-sf").submit(function() {
    $(this);
    return $.ajax({
        success: function(e) {
            alert(e)
        }
    }), !1
}), $("#buy_form").submit(function() {
    if ($("#sf_Lead_Event_Origin__c").val("Buy Form: " + $.trim($("#product_to_buy").val())), magplus_buy_loading(!0)) return !1;
    if (magplus_buy_loading(), !$("#buy_eula_accept").is(":checked")) return alert('You must accept "Mag+ end user license agreement" by checking the box.'), magplus_buy_loading(), !1;
    var e = $(this);
    return $.ajax({
        url: psVar.ajaxurl,
        type: "post",
        data: $(this).serialize() + "&action=buy_magplus_form",
        success: function(t) {
            if (t.success) {
                var a = $.trim($("#product_to_buy").val());
                t.mail ? (_gaq.push(["_trackPageview", "/buy/success/" + a]), e.html(t.msg), $.colorbox.resize(), $("#cboxContent").append('<iframe src="/features-price/salesforce-buy-form-thanks-' + a + '" style="display:none"></iframe>')) : alert("There were an error sending the mail try again or contact sales@magplus.com")
            } else alert("Please correct these errors: \n" + t.errors.join(", \n"));
            magplus_buy_loading()
        },
        error: function() {
            alert("There was an error."), magplus_buy_loading()
        }
    }), !1
}), $("#contact-btn.primary-button").click(function(e) {
    e.preventDefault();
    var t = $(".anchor-form").offset();
    $("html, body").animate({
        scrollTop: t.top
    }, 300)
});
var eqHeightBiggest = 0;
$(".eq-height").each(function() {
    $(this).height() > eqHeightBiggest && (eqHeightBiggest = $(this).height())
}), eqHeightBiggest > 0 && $(".eq-height").css("height", eqHeightBiggest + "px"), $(".mag-icon-link").length && ($(".mag-icon-link").magbubble(), $(".f-row:not(.f-row-title) .tooltip-text").closest(".f-row").magbubble({
    top: 10,
    delay: 400,
    forceEnd: !0
}), $(".fp-row .tooltip-text").closest(".fp-relative").magbubble({
    top: 0,
    delay: 400,
    forceEnd: !0
}), $(".remove-x").click(function() {
    $(this).closest(".remove-me").remove()
})), setTimeout(function() {
    $("#SnapABug_Button").length && ($("#SnapABug_Button").click(function() {
        $(this).addClass("active"), _gaq.push(["_trackEvent", "Online Chat", "Clicked"])
    }), setInterval(function() {
        !$("#SnapABug_CBMBtn").length && $("#SnapABug_Button.active").length && $("#SnapABug_Button").removeClass("active")
    }, 2e3))
}, 2e3), $(".blog-tag-list").length && $(".blog-tag-list .btn-go").click(function() {
    var e = $("#subjectTag").val();
    "#" != e && (location.href = "/" + $("#subjectTag").val())
});
var MagPlus = {
    signup: function(e) {
        if ("success" == e.status) {
            pingBing("New User");
            var t = {
                user: e.user,
                user_type: $('input[name="user_type"]:checked').val(),
                where: $(".register-new-form-where").val(),
                browser_lang: window.navigator.language || navigator.browserLanguage || "",
                action: "ps_signed_up_user"
            };
            jQuery.ajax({
                url: psVar.ajaxurl,
                data: t,
                type: "POST"
            }), setTimeout(function() {
                window.location.href = e.redirect_to
            }, 300)
        } else {
            var a = jQuery(".magplus-signup");
            a.find(".form-loader").hide(), a.find(".ps-container-error").removeClass("ps-container-error");
            for (var o in e.errors) a.find('input[name="registration[' + o + ']"]').parent().addClass("ps-container-error").find(".ps-error").html(e.errors[o].join(", "))
        }
    }
};
$("#magplus_signup").submit(function(e) {
    e.preventDefault();
    var t = $(this),
        a = t.find($("#Daddy_Analytics_WebForm_URL")).attr("value");
    if (a.length > 255) {
        var o = a.slice(-254);
        t.find($("#Daddy_Analytics_WebForm_URL")).attr("value", o)
    }
    if ($loader = t.find(".form-loader"), t.find(".accept-terms").is(":checked")) {
        var i = ["admin", "abuse", "postmaster", "noc", "root", "security", "spam", "sysadmin", "compliance", "registrar"],
            n = t.find(".registration-email"),
            r = n.val().split("@")[0];
        if (i.indexOf(r) >= 0) return n.parent().addClass("ps-container-error").find(".ps-error").html("Do not use any of these addresses: admin@, abuse@, postmaster@, noc@, root@, security@, spam@, sysadmin@, compliance@, registrar@"), !1;
        $loader.show(), $.ajax({
            url: t.attr("action") + ".js",
            dataType: "jsonp",
            jsonpCallback: "MagPlus.signup",
            data: t.serialize()
        })
    } else alert("You need to verify that you have read & understood the End User License Agreement by checking the box.");
    return !1
});
var $download_form = $(".magplus-download");

if ($download_form.length) {
    var OS = "Win"; - 1 != navigator.appVersion.indexOf("Mac") && (OS = "MacOS"), $download_form.find('input[name="os"][value="' + OS + '"]').attr("checked", "checked"), $download_form.submit(function() {
        var e = $("input[name='os']:checked").val(),
            t = $("input[name='cs_version']:checked").val();
        if (void 0 !== e && void 0 !== t) {
            if ("Win" == e) var a = "zip";
            else var a = "dmg";
            window.open("https://download.magplus.com/index.php?cs=" + t + "&extension=" + a, "_blank"), window.location = "/my-magplus/installation/?downloaded=true"
        } else{
		var selectedvalue = $('#cs_version').val();
		if(selectedvalue ==""){
		alert("Please select your InDesign version before downloading.");
		debugger; 
		return false;
	 }
	}
        return _gaq.push(["_trackEvent", "Tool Downloads v " + readCookie("mg_browser"), t, e]), !1
    })
}