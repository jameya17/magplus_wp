/**
 * $ HTML5 Inline Form Validator (ht5ifv) Plugin
 * Copyright(c) 2011 Isidro Vila Verde (jvverde@gmail.com)
 * Dual licensed under the MIT and GPL licenses
 * Version: 0.9.7
 * Last Revision: 2011-09-12
 *
 * Requires jQuery 1.6.2
 *
 *
 *ChangeLog
 *version 0.9.4 (29-08-2011)
 *fixed problem with ISODatestring
 *version 0.9.5 (05-09-2011)
 *Support for multiple in type email (http://www.w3.org/TR/html5/states-of-the-type-attribute.html#e-mail-state)
 *New static methods
 *version 0.9.6 (10-09-2011)
 *Support required attribute over a group of checkboxes sharing the same name (see examples 9 to 14)
 *version 0.9.7 (12-09-2011)
 *New static method $.ht5ivf('defaults') which expose all defaults values.
 */
 
(function(d){function q(a){return a.match(/^(\d{4})-(\d{2})-(\d{2})$/)&&function(){var a=parseInt(RegExp.$2,10),b=parseInt(RegExp.$3,10),f=[function(){return!1},function(){return b<=31},function(){var a=parseInt(RegExp.$1);return b<=28||b==29&&a%4==0&&(a%100!=0||a%400==0)},function(){return b<=31},function(){return b<=30},function(){return b<=31},function(){return b<=30},function(){return b<=31},function(){return b<=31},function(){return b<=30},function(){return b<=31},function(){return b<=30},function(){return b<=
31}];return a<13&&b<32&&a>0&&b>0&&f[a]()}()}function i(a){a=B(a);if(!a)return a;var c;if(a.type===1)c=new Date(a.year,a.month-1,a.day);else{if(a.type===3||a.type===2)c=new Date(a.year,a.month-1,a.day,a.hour,a.min),a.sec!==void 0&&(c.setSeconds(a.sec),a.milisec&&c.setMilliseconds(a.milisec));a.type===3&&(a=a.offset+c.getTimezoneOffset(),c.setTime(Number(c)-a*6E4))}return c}function r(a){return/^([01][0-9]|2[0-3]):([0-5][0-9])(:[0-5][0-9](\.\d{1,3})?)?$/.test(a)}function u(a){if(!a)return console.warn("No options to getRestrictions"),
[];var c={};a.restrictions&&a.restrictions instanceof Object&&d.each(a.restrictions,function(a){c[a]=!0});d.each(["select","textarea","checkbox","radio"],function(b,e){a[e]&&a[e].restrictions&&a[e].restrictions instanceof Object&&d.each(a[e].restrictions,function(a){c[a]=!0})});a.types&&a.types instanceof Object&&d.each(a.types,function(b){a.types[b].restrictions&&a.types[b].restrictions instanceof Object&&d.each(a.types[b].restrictions,function(a){c[a]=!0})});var b=["valid","invalid"];d.each(c,function(a){b.push(a)});
return b}function C(a){a.restrictions&&a.restrictions instanceof Object&&d.each(a.restrictions,function(c,b){if(!(b instanceof Function)&&b instanceof Object&&b.handler&&b.handler instanceof Function){var f={};f[c]=b.handler;f={restrictions:f};if(b.classe!==void 0)f.classes={},f.classes[c]=b.classe;if(b.target!==void 0)f.targets={},f.targets[c]=b.target;if(b.callback!==void 0)f.callbacks={},f.callbacks[c]=b.callback;d.extend(!0,a,f)}});return a}function j(a,c){if(!a)return console.warn("No options to expand"),
b;var b=d.extend(!0,{},a),f=function(a,b){if(b&&b instanceof Object){if(b.classes&&b.classes instanceof Function){var f=b.classes;b.classes={};d.each(c,function(a,c){b.classes[c]=f(c)})}else b.classes&&!(b.classes instanceof Object)&&(delete b.classes,console.warn("the $options.classes must be an Object or an Function"));if(b.targets&&b.targets instanceof Function){var g=b.targets;b.targets={};d.each(c,function(a,c){b.targets[c]=function(a){return g(a,c)}})}else b.targets&&!(b.targets instanceof Object)&&
(delete b.targets,console.warn("the $options.targets must be an Object or an Function"));if(b.callbacks&&b.callbacks instanceof Function){var D=b.callbacks;b.callbacks={};d.each(c,function(a,c){b.callbacks[c]=function(a){D(a,c)}})}else b.callbacks&&!(b.callbacks instanceof Object)&&(delete b.callbacks,console.warn("the $options.callbacks must be an Object or an Function"));C(b)}};f("",b);f(".select",b.select);f(".textarea",b.textarea);f(".radio",b.radio);f(".checkbox",b.checkbox);b.types&&b.types instanceof
Object&&d.each(b.types,function(a,b){f(".types."+a,b)});return b}function y(a){function c(a){return d.extend(!0,{},b,a)}if(!a)return console.warn("No options to apply_defaults"),a;var b={};a.classes&&d.extend(!0,b,{classes:a.classes});a.targets&&d.extend(!0,b,{targets:a.targets});a.events&&d.extend(!0,b,{events:a.events});a.restrictions&&d.extend(!0,b,{restrictions:a.restrictions});a.callbacks&&d.extend(!0,b,{callbacks:a.callbacks});if(a.select!==void 0)a.select=c(a.select);if(a.textarea!==void 0)a.textarea=
c(a.textarea);if(a.radio!==void 0)a.radio=c(a.radio);if(a.checkbox!==void 0)a.checkbox=c(a.checkbox);a.types&&a.types instanceof Object&&d.each(a.types,function(b){a.types[b]=c(a.types[b])});return a}function E(a){if(!a)return console.warn("No options to remove_globals"),a;delete a.events;!a.restrictions||!(a.restrictions instanceof Object)?(delete a.classes,delete a.targets,delete a.restrictions,delete a.callbacks):d.each(["classes","targets","callbacks"],function(c,b){a.$o&&d.each(a[b],function(c){a.restrictions[c]||
delete a[b][c]})});return a}function z(a){function c(a,c){if(!(a.events&&a.events instanceof Object))a.events={validate:"change.ht5ifv",check:"change.ht5ifv"},console.warn(c+".events set to {validate: 'change.ht5ifv',check: 'change.ht5ifv'}");a.restrictions&&a.restrictions instanceof Object?(d.each(["classes","targets","callbacks"],function(d,n){a[n]&&a[n]instanceof Object||(a[n]={},console.warn(c+"."+n+" set to an empty Associative Array"))}),d.each(a.restrictions,function(e){d.each(["targets","callbacks"],
function(d,g){a[g][e]===void 0&&(a[g][e]=function(a){return a},console.warn(c+"."+g+"."+e+" set to an function function($this){return $this}"))});if(a.classes[e]===void 0||typeof a.classes[e]!="string")a.classes[e]="",console.warn(c+".classes."+e+" set to an empty string")})):console.warn("."+$i+" have no restrictions")}if(!a)return console.warn("No options to check"),a;d.each(["select","textarea","radio","checkbox"],function(b,d){a[d]&&(a[d]instanceof Object?c(a[d],"$options."+d):console.warn("$options."+
d+" is missing or is not an Associative Array"))});a.types&&a.types instanceof Object&&d.each(a.types,function(a,d){if(d instanceof Object)c(d,"$options.type."+a);else throw"ht5ifv - $options.type."+a+" must be an Associative Array";});return a}function A(a){function c(a){d.each(["classes","targets","callbacks"],function(c,e){a[e]&&a[e]instanceof Object&&d.each(a[e],function(c){c!="valid"&&c!="invalid"&&(a.restrictions===void 0||a.restrictions[c]===void 0)&&delete a[e][c]})})}if(!a)return console.warn("No options to clean"),
a;d.each(["select","textarea","radio","checkbox"],function(b,d){a[d]&&a[d]instanceof Object&&c(a[d])});a.types&&a.types instanceof Object&&d.each(a.types,function(a,d){d instanceof Object&&c(d)});return a}var B=function(){var a=/^((\d{4})-(\d{2})-(\d{2}))(T(([01][0-9]|2[0-3]):([0-5][0-9])(:([0-5][0-9])(\.\d{1,3})?)?)(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))?)?$/;return function(c){var b;if(c=c.match(a))if(b={date:c[1],year:c[2],month:c[3],day:c[4],type:1},c[5]){b.type=2;b.time=c[6];b.hour=c[7];b.min=
c[8];if(c[9]&&(b.sec=c[10],c[11]))b.milisec=Number("0"+c[11])*1E3;if(c[12]&&(b.type=3,b.offset=0,c[14]&&(b.offset=Number(c[14])*60+Number(c[15]),c[13]=="-")))b.offset=-b.offset}return b}}(),g={color:{restrictions:{type:function(a,c){var b=a.val();return b==""&&c||/^#[0-9A-F]{6}$/i.test(b)}}},date:{restrictions:{type:function(a,c){var b=a.val();return b==""&&c||q(b)},min:function(a){var c=i(a.attr("min")),a=i(a.val());return isNaN(a)||c<=a},max:function(a){var c=i(a.attr("max")),a=i(a.val());return isNaN(a)||
a<=c}}},datetime:{restrictions:{type:function(a,c){var b=a.val();return b==""&&c||b.match(/^(\d{4}-\d{2}-\d{2})T(.+)(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/)&&function(){var a=RegExp.$2;return q(RegExp.$1)&&r(a)}()},min:function(a){return g.date.restrictions.min(a)},max:function(a){return g.date.restrictions.max(a)}}},"datetime-local":{restrictions:{type:function(a,c){var b=a.val();return b==""&&c||b.match(/^(\d{4}-\d{2}-\d{2})T(.+)$/)&&function(){var a=RegExp.$2;return q(RegExp.$1)&&r(a)}()},
min:function(a){return g.date.restrictions.min(a)},max:function(a){return g.date.restrictions.max(a)}}},email:{restrictions:{type:function(a,c){function b(){var a=e.pop();return!a||a&&a.match(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i)&&
b()}var d=a.val(),e=a.attr("multiple")||a.get(0).getAttribute("multiple")?d.split(/\s*,\s*/):[d];return d==""&&c||b()}}},month:function(){var a=/^(\d{4})-(0[1-9]|1[0-2])$/;return{restrictions:{type:function(c,b){var d=c.val();return d==""&&b||a.test(d)},min:function(c){a.test(c.val());var b=parseInt(RegExp.$1,10),d=parseInt(RegExp.$2,10);a.test(c.attr("min"));var c=parseInt(RegExp.$1,10),e=parseInt(RegExp.$2,10);return isNaN(b)||isNaN(d)||isNaN(c)||isNaN(e)||c<b||c==b&&e<=d},max:function(c){a.test(c.val());
var b=parseInt(RegExp.$1,10),d=parseInt(RegExp.$2,10);a.test(c.attr("max"));var c=parseInt(RegExp.$1,10),e=parseInt(RegExp.$2,10);return isNaN(b)||isNaN(d)||isNaN(c)||isNaN(e)||b<c||b==c&&d<=e}}}}(),number:{restrictions:{type:function(a,c){var b=a.val();return b==""&&c||/^-?[0-9]+(\.[0-9]*)?(E(-|\+)?[0-9]+)?$/i.test(b)},min:function(a){var c=parseFloat(a.attr("min"),10),a=parseFloat(a.val(),10);return isNaN(a)||c<=a},max:function(a){var c=parseFloat(a.attr("max"),10),a=parseFloat(a.val(),10);return isNaN(a)||
a<=c}}},password:{restrictions:{type:function(a,c){return g.text.restrictions.type(a,c)}}},range:{restrictions:{type:function(a,c){return g.number.restrictions.type(a,c)},min:function(a){return g.number.restrictions.min(a)},max:function(a){return g.number.restrictions.max(a)}}},search:{restrictions:{type:function(a,c){return g.text.restrictions.type(a,c)}}},tel:{restrictions:{type:function(a,c){return g.text.restrictions.type(a,c)}}},text:{restrictions:{type:function(a,c){var b=a.val();return b==
""&&c||/^[^\n\r]*$/.test(b)}}},time:{restrictions:{type:function(a,c){var b=a.val();return b==""&&c||r(b)},min:function(a){var c=i("2000-01-01T"+a.attr("min")),a=i("2000-01-01T"+a.val());return isNaN(a)||c<=a},max:function(a){var c=i("2000-01-01T"+a.attr("max")),a=i("2000-01-01T"+a.val());return isNaN(a)||a<=c}}},url:{restrictions:{type:function(a,c){var b=a.val();return b==""&&c||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)}}},
week:function(){var a=/^(\d{4})-W(0[1-9]|[1-4][0-9]|5[0-3])$/;return{restrictions:{type:function(c,b){var d=c.val(),e;if(!(e=d==""&&b)){if(d=a.test(d)){var d=RegExp.$2,n=RegExp.$1;with(e=new Date(n,0,4))setDate(getDate()-(6+getDay())%7);with(n=new Date(n,11,28))setDate(getDate()+(7-getDay())%7);e=Math.round((n-e)/6048E5);d=d<=e}e=d}return e},min:function(c){a.test(c.val());var b=parseInt(RegExp.$1,10),d=parseInt(RegExp.$2,10);a.test(c.attr("min"));var c=parseInt(RegExp.$1,10),e=parseInt(RegExp.$2,
10);return isNaN(b)||isNaN(d)||isNaN(c)||isNaN(e)||c<b||c==b&&e<=d},max:function(c){a.test(c.val());var b=parseInt(RegExp.$1,10),d=parseInt(RegExp.$2,10);a.test(c.attr("max"));var c=parseInt(RegExp.$1,10),e=parseInt(RegExp.$2,10);return isNaN(b)||isNaN(d)||isNaN(c)||isNaN(e)||b<c||b==c&&d<=e}}}}(),_defaults:{restrictions:{type:function(){return!0}}}},v="ht5ifv-monitoring",t={min:"ht5ifv-min-error",max:"ht5ifv-max-error",type:"ht5ifv-type-error",pattern:"ht5ifv-pattern-error",required:"ht5ifv-required-error"},
k={classes:function(a){return"ht5ifv-show-"+a},targets:function(a){return a},callbacks:function(){},filter:function(a){return a.not('[type="hidden"]')},types:g,checkbox:{restrictions:{required:function(a){return a.is(":checked")}},events:{validate:"change.ht5ifv",check:"change.ht5ifv"}},radio:{restrictions:{required:function(a){return a.filter(":checked").length>0}},events:{validate:"change.ht5ifv",check:"change.ht5ifv"}},textarea:{},select:{restrictions:{required:function(a){return a.val()!=null}},
events:{validate:"change.ht5ifv",check:"change.ht5ifv"}},restrictions:{required:function(a){return a.val()!=""},pattern:function(a,c){var b=a.attr("pattern"),d=a.val();return!d&&c||RegExp("^"+b+"$").test(d)}},events:{validate:"focus.ht5ifv keyup.ht5ifv",check:"blur.ht5ifv"}},w=[],x={init:function(a){if(a){d.each(k,function(b){if(b!="classes"&&a[b]!==void 0&&(a[b]===null||!(a[b]instanceof Object)))throw"ht5ivf - the option "+b+"must be a Function or an Associative Array";});if(a.classes!==void 0&&
(a.classes===null||!(typeof a.classes=="string"||a.classes instanceof Object)))throw"ht5ivf - the option.classes must be a String or an Array or an Associative Array";a.types&&d.each(a.types,function(b){if(a[b]===null||!(a.types[b]instanceof Object))throw"ht5ivf - the option "+b+"must be a Function or an Associative Array";})}else a={};var c=function(){var b=d.extend(!0,{},k);d.each(w,function(a,c){d.extend(!0,b,c.definitions)});d.extend(!0,b,a);return u(b)}(),b=j(k,c);d.each(w,function(a,e){var f=
function(){if(e.global)return j(e.definitions,c);else{var a=j(e.definitions,u(e.definitions));y(a);E(a);A(a);e.selfContained&&z(a);return a}}();d.extend(!0,b,f)});var f=j(a,a.localDefinitions?u(a):c),e=d.extend(!0,{browserValidate:!1,callbackOnlyStatusTransitions:!0,callbackOnlyErrorTransitions:!0,ignoreEmptyFields:!0,safeValidate:!0,checkDisable:!0,validateOnSubmit:!0},b,f);y(e);A(e);z(e);return this.each(function(){function a(b,c){var e=c.restrictions;b.bind("clear.ht5ifv",function(){var a=d(this);
d.each(o,function(b,c){a.removeClass(c)});d.each(e,function(b){c.targets[b](a).removeClass(c.classes[b])});d.each(["valid","invalid"],function(b,d){try{c.targets[d](a).removeClass(c.classes[d])}catch(e){throw console.error(e),console.log("The object Error is: %o",e),'ht5ifv: "clear" error ('+e+")";}});return!1})}function b(a,c){var f=c.targets.valid(a),g=c.callbacks.valid,h=c.classes.valid,i=c.targets.invalid(a),n=c.callbacks.invalid,j=c.classes.invalid;a.bind("check.ht5ifv",function(){var a=d(this);
if(!e.checkDisable||!a.parents("form,fieldset").andSelf().is("[disabled]")){e.safeValidate&&a.trigger("validate.ht5ifv");var b=!0;d.each(t,function(c,d){a.hasClass(d)&&(b=!1)});if(b){i.removeClass(j);a.removeClass(o.invalid);var c=a.val()!=""||!e.ignoreEmptyFields;if(c&&(!a.hasClass(o.valid)||!e.callbackOnlyStatusTransitions))try{g(a)}catch(l){throw'ht5ifv: error in "valid" callback ('+l+")";}c?(f.addClass(h),a.addClass(o.valid)):(f.removeClass(h),a.removeClass(o.valid))}else if(f.removeClass(h),
i.addClass(j),a.removeClass(o.valid),!a.hasClass(o.invalid)||!e.callbackOnlyStatusTransitions){a.addClass(o.invalid);try{n(a)}catch(F){throw'ht5ifv: error in "invalid" callback ('+F+")";}}}})}function c(l,f){var g=f.restrictions;g&&d.each(g,function(c,g){if(l.is("["+c+"]")){var h=t[c]="ht5ifv-"+c+"-error",i=f.targets[c](l),G=f.callbacks[c],j=f.classes[c];l.bind("validate.ht5ifv",function(){if(g(l,e.ignoreEmptyFields))i.removeClass(j),l.removeClass(h);else if(!e.checkDisable||!l.parents("form,fieldset").andSelf().is("[disabled]"))if(i.addClass(j),
!l.hasClass(h)||!e.callbackOnlyErrorTransitions){l.addClass(h);try{G(l)}catch(a){throw"ht5ifv: error in callback ("+a+")";}}}).addClass(v);b(l,f);a(l,f);l.bind(f.events.validate,function(){d(this).trigger("validate.ht5ifv")}).bind(f.events.check,function(){d(this).trigger("check.ht5ifv")})}})}function f(){q.each(function(){var a=d(this),b=[];d.each(d("option[selected]",a),function(){var a=d(this),a=a.attr("value")||a.text();b.push(a)});a.val(b)});j.each(function(){var a=d(this),b=[];j.filter('[name="'+
a.attr("name")+'"]').each(function(){if(this.defaultChecked){var a=d(this).attr("value");b.push(a)}});b.length>0&&a.val(b)});k.each(function(){var a=d(this);a.val(["__ht5ifv__some_unprobably_text_algum_texto_"]);if(this.defaultChecked){var b=a.attr("value");a.val([b])}});i.add(p).each(function(){var a=this.defaultValue||"";d(this).val(a)})}var g=d(this);if(g.data("ht5ifv")&&g.data("ht5ifv").method)console.warn("The method has already been called for the form:",g);else{var h=e.filter((g.is("input,textarea,select")?
g:d("input,textarea,select",g)).not('[type="reset"],[type="submit"],[type="image"],[type="button"]')),i=h.filter("input").not('[type="checkbox"],[type="radio"]'),j=h.filter('input[type="checkbox"]'),k=h.filter('input[type="radio"]'),p=h.filter("textarea"),q=h.filter("select");i.each(function(){var a=d(this).attr("type");if(a&&e.types[a]===void 0)e.types[a]=e.types._defaults});i.each(function(){var a=d(this),b=a.attr("type")||"_defaults";c(a,e.types[b])});p.each(function(){c(d(this),e.textarea)});
q.each(function(){c(d(this),e.select)});var s=function(){return g.is("form")?g:function(){var a=g.parents("form").first();return a.is("form")?a:d("body")}()}();k.add(j).each(function(){var c=d(this),f=e[c.attr("type")];d.each(f.restrictions,function(g,h){if(c.is("["+g+"]")){var i=t[g]="ht5ifv-"+g+"-error",j=f.targets[g](c),o=f.callbacks[g],m=f.classes[g],k=c.attr("name")?d('input[type="'+c.attr("type")+'"][name="'+c.attr("name")+'"]',s):c;k.filter("["+g+"]").first().is(c)&&(k.bind("validate.ht5ifv",
function(){var a=d(this);if(!e.checkDisable||!a.parents("form,fieldset").andSelf().is("[disabled]"))if(a.hasClass("ht5ifv-radioControlGroup")||(k.addClass("ht5ifv-radioControlGroup"),k.not(a.get(0)).trigger("validate.ht5ifv")),a.removeClass("ht5ifv-radioControlGroup"),h(k,a,e.ignoreEmptyFields))j.removeClass(m),a.removeClass(i);else if(j.addClass(m),!a.hasClass(i)||!e.callbackOnlyErrorTransitions){a.addClass(i);try{o(a)}catch(b){throw"ht5ifv: error in callback ("+b+")";}}}).addClass(v),b(k,f),a(k,
f),k.bind(f.events.validate,function(){d(this).trigger("validate.ht5ifv")}).bind(f.events.check,function(){d(this).trigger("check.ht5ifv")}))}})});var o=d.extend({},t,{valid:"ht5ifv-valid-status",invalid:"ht5ifv-invalid-status"}),m=h.filter("."+v);e.browserValidate!=!0&&s.attr("novalidate","novalidate");d("input[type='reset']",s).click(function(){m.trigger("clear.ht5ifv")});e.validateOnSubmit&&s.bind("submit.ht5ifv",function(){return r()});var r=function(){m.trigger("validate.ht5ifv").trigger("check.ht5ifv");
var a=!0;m.each(function(){a=a&&!d(this).hasClass(o.invalid)});return a};g.data("ht5ifv",{form:g,method:{_validate:function(){m.trigger("validate.ht5ifv").trigger("check.ht5ifv")},_check:r,_reset:function(){m.trigger("clear.ht5ifv");try{s.get(0).reset()}catch(a){console.warn('The DOM reset method does not exist. It was problably overriden. Chech in your form for a tag with the value "reset" assigned to an attribute id or name. It just a hint. I will try again in a different way');var b=d('[type="reset"]',
s);b.length?b.first().click():(console.warn("Reset form: the last try. Fallback to reset_fields only"),f())}},_defaults:function(){m.trigger("clear.ht5ifv");f()},_clean:function(){m.trigger("clear.ht5ifv");i.val("");p.val("");j.val(["__ht5ifv__some_unprobably_text_algum_texto_"]);k.val(["__ht5ifv__some_unprobably_text_algum_texto_"]);q.val(["__ht5ifv__some_unprobably_text_algum_texto_"])},_destroy:function(){m.trigger("clear.ht5ifv");m.unbind(".ht5ifv");g.unbind(".ht5ifv");g.removeData("ht5ifv")}}})}})},
validate:function(){return this.each(function(){try{d(this).data("ht5ifv").method._validate()}catch(a){throw console.error(a),console.log("The object Error is: %o",a),'ht5ifv: "validate" error ('+a+")";}})},valid:function(){var a=!0;this.each(function(){try{a=a&&d(this).data("ht5ifv").method._check()}catch(c){throw'ht5ifv: "valid" error ('+c+")";}});return a},reset:function(){return this.each(function(){try{d(this).data("ht5ifv"),d(this).data("ht5ifv").method._reset()}catch(a){throw'ht5ifv: "reset" error ('+
a+")";}})},reload:function(){return this.each(function(){try{d(this).data("ht5ifv"),d(this).data("ht5ifv").method._defaults()}catch(a){throw'ht5ifv: "default" error ('+a+")";}})},clean:function(){return this.each(function(){try{d(this).data("ht5ifv").method._clean()}catch(a){throw'ht5ifv: "clean" error ('+a+")";}})},destroy:function(){return this.each(function(){try{d(this).data("ht5ifv").method._destroy()}catch(a){throw'ht5ifv: "destroy" error ('+a+")";}})}};d.fn.ht5ifv=function(a){if(x[a])return x[a].apply(this,
Array.prototype.slice.call(arguments,1));else if(a instanceof Object||!a)return x.init.apply(this,arguments);else d.error("Method "+a+" does not exist on jQuery.ht5ifv plugin")};var h={},p={extend:function(a,c,b){w.push({definitions:a,global:c,selfContained:b})},register:function(a,c,b){a&&(h[a]===void 0||b)?h[a]=c:console.warn("Cannot registry the handler with name: %s",a)},unregister:function(a){delete h[a]},clean:function(){h={}},registerType:function(a,c,b){p.register(a,function(){return{types:function(b){b[a]=
{restrictions:{type:c}};return b}({})}},b)},registerRestriction:function(a,c,b){p.register(a,function(){return{restrictions:function(b){b[a]=c;return b}({})}},b)},use:function(a){if(a)for(var c=0;c<arguments.length;c++){var b=arguments[c];if(typeof b=="string")h[b]?d.ht5ifv("extend",h[b].apply(this)):console.warn("Cannot find the handler with name: %s",b);else if(b instanceof Array){var f=b.shift();f&&h[f]?d.ht5ifv("extend",h[f].apply(this,b)):console.warn("Cannot find the handler with name: %s",
b)}}else d.each(h,function(a,b){d.ht5ifv("extend",b.apply(this))})},defaults:function(){return k}};d.ht5ifv=function(a){if(p[a])return p[a].apply(this,Array.prototype.slice.call(arguments,1));else d.error("Static Method "+a+" does not exist on jQuery.ht5ifv plugin")}})(jQuery);